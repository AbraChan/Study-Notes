<html>
<head>
  <title>7_类和对象 2</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/607057 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3180"/>
<h1>7_类和对象 2</h1>

<div>
<span><div><div><span style="font-size: 12pt;">【本文结构】</span></div><ul><li><div><span style="font-size: 12pt;">0 参考文献</span></div></li><li><div><span style="font-size: 12pt;">6、Python 类的继承</span></div></li><ul><li><div><span style="font-size: 12pt;">继承</span></div></li><ul><li><div><span style="font-size: 12pt;">多继承</span></div></li></ul><li><div><span style="font-size: 12pt;">新式类和经典类</span></div></li><li><div>Python MRO 方法解析顺序</div></li><li><div>构造函数的继承 / 调用父类的构造方法</div></li><ul><li><div>父类名.__init__(self, 父类初始化参数列表)</div></li><li><div>super() </div></li></ul><li><div>内置类型子类化</div></li></ul><li><div><span style="font-size: 12pt;">7、Python 多态</span></div></li><ul><li><div><span style="font-size: 10pt;">父类方法重写（重写的条件）</span></div></li><li><div>类的继承、定制（重写）和扩展 → 多态</div></li></ul><li><div><span style="font-size: 12pt;">8、__slots__：限制实例动态添加属性和方法</span></div></li><li><div><span style="font-size: 12pt;">9、type() 函数：动态创建类</span></div></li></ul><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">【0 参考文献】</span></div><ol><li><div><a href="http://c.biancheng.net/python/class_object/" style="font-size: 12pt;">C语言中文网 Python 教程第8章：类和对象</a></div></li><li><div><a href="https://docs.python.org/zh-cn/3.7/index.html" style="font-size: 12pt;">Python 3.7.7rc1 文档</a><span style="font-size: 12pt;">（中文）</span><a href="https://docs.python.org/zh-cn/3.7/tutorial/classes.html" style="font-size: 12pt;">教程：9. 类</a></div></li><li><div><a href="https://docs.python.org/3.7/index.html" style="font-size: 12pt;">Python 3.7.7rc1 documentation</a><span style="font-size: 12pt;">（英文）</span></div></li><li><div><a href="https://book.douban.com/subject/30364619/" style="font-size: 12pt;">《Python 学习手册》</a></div></li></ol><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">【6 </span><span style="font-size: 12pt; font-weight: bold;">Python 类的继承</span><span style="font-size: 12pt;">】</span></div><ul><li><div><span style="font-size: 16px;"><a href="http://c.biancheng.net/view/2288.html" style="font-size: 16px; font-weight: bold;">继承</a></span></div></li><ul><li><div><span style="font-size: 12pt;">经常用于创建和现有类功能类似的新类，又或是新类只需要在现有类基础上添加一些成员（变量和方法），但又不想直接将现有类代码复制给新类。也就是说，通过使用继承这种机制，可以轻松实现类的重复使用（具体来说是：定制和扩展）。</span></div></li><li><div><span style="font-size: 12pt;">Python 中，实现继承的类称为<span style="font-size: 12pt; color: rgb(173, 0, 0);">子类</span></span><span style="font-size: 12pt;">（</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">派生类</span><span style="font-size: 12pt;">）</span><span style="font-size: 12pt;">，被继承的类称为</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">父类</span><span style="font-size: 12pt;">（</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">基类</span><span style="font-size: 12pt;">、</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">超类</span><span style="font-size: 12pt;">）。</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">派生和继承是一个意思，只是观察角度不同而已。继承是相对子类来说的，即子类继承自父类；而派生是相对于父类来说的，即父类派生出子类。</span></div></li></ul><li><div><span style="font-size: 16px;">子类继承父类，只需在定义子类时将父类（可以是多个）放在子类名称后面的圆括号里就可以。</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">语法格式如下：</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt;">class 子类名(父类名1, ...):</span></div><div><span style="font-size: 12pt;">    类体</span></div></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">注意，如果该类</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">没有</span><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; text-decoration: underline;">显式</span><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">指定继承自哪个父类</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">，则</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; text-decoration: underline;">默认</span><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">继承 object 类</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">（object 类是 Python 中所有类的父类，即要么是直接父类，要么是间接父类）。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">子类只能继承父类中公有属性，不能继承父类私有属性。（</span><a href="https://blog.csdn.net/qinghange/article/details/104899598" style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">来源</a><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">）</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">构造函数的继承 or 重写：在继承过程中，如果子类没有重新定义自己的构造函数，则会自动继承最左边的父类的构造函数。</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">如果子类在定义中定义了自己的构造函数（重写），则不会继承任何父类的构造函数。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">如果子类需要在自己的构造函数中继承某个父类的构造函数，则需要在自己的构造函数中通过一定方式来调用该父类的构造函数。（后面会详细介绍）</span></div></li></ul><li><div><span style="font-size: 11pt;"><br/></span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">另外，Python 的继承是</span><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">多继承</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">机制（和</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="http://c.biancheng.net/cplus/" style="border: none; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 125, 187); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">C++</a><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">一样），即一个子类可以同时拥有多个直接父类。</span></div></li><li><div><span style="font-size: 10pt;">抽象父类，即类的部分行为预期由其子类提供。如果所预期的方法 没有在子类中定义，那么当继承搜索失败时 Python 就会引发名称未定义的异常。</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（</span><a href="https://book.douban.com/subject/30364619/" style="font-size: 10pt; color: rgb(0, 0, 255); font-family: &quot;Lucida Grande&quot;;">参考文献4</a> <span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">- P853</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">）</span><span style="font-size: 12pt;"> </span></div></li><ul><li><div><span style="font-size: 10pt;">这种“填补空缺”的做法正是典型的OOP的软件框架。</span></div></li><li><div>抽象类仅定义将由子类创建的一般属性，<span style="font-size: 10pt;">OO开发范式（阶段）大致为：划分对象→抽象类→将类组织成为层次化结构(继承和合成) →用类与实例进行设计和实现。（</span><a href="https://www.cnblogs.com/doumingyi/p/12469949.html" style="font-size: 10pt;">来源</a><span style="font-size: 10pt;">）</span></div></li></ul></ul><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">      </span><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><img src="7_类和对象 2_files/Image.png" type="image/png" data-filename="Image.png" width="812"/></span></div></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><span style="font-size: 16px;"><span style="font-size: 16px;">多继承</span></span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">大部分面向对象的编程语言，都只支持单继承，即子类有且只能有一个父类。而</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Python 却的继承是多继承机制（C++也支持多继承）</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">和单继承相比，多继承容易让代码逻辑复杂、思路混乱，一直备受争议，中小型项目中较少使用，后来的</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="http://c.biancheng.net/java/" style="border: none; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 125, 187); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Java</a><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">、</span><a href="http://c.biancheng.net/csharp/" style="border: none; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 125, 187); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">C#</a><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">、</span><a href="http://c.biancheng.net/php/" style="border: none; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 125, 187); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">PHP</a><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">等干脆取消了多继承。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">使用多继承经常需要面临的问题是，多个父类中包含同名的类方法。对于这种情况，Python 的处置措施是：</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">根据子类继承多个父类时这些父类的前后次序决定，即</span><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">排在前面</span><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">父类中的类方法会</span><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">覆盖排在后面</span><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">父类中的</span><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">同名类方法</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></li><ul><li><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 250, 165); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;-evernote-highlight:true;">在类树中搜索的顺序：先搜索实例对象，再对该对象之上的所有类，由</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="background-color: rgb(255, 250, 165); font-size: 12pt; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;-evernote-highlight:true;">下往上、由左往右</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 250, 165); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;-evernote-highlight:true;">搜索。</span></span></div></li></ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 249, 249); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">虽然 Python 在语法上支持多继承，但逼不得已，建议大家不要使用多继承。</span></div></li></ul><div><span style="font-size: 12pt;">     </span><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [1].png" type="image/png" data-filename="Image.png" width="694"/></span></div></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><span style="font-size: 16px;"><a href="http://c.biancheng.net/view/vip_6071.html" style="font-size: 16px;">新式类 和 经典类</a> </span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（</span><a href="https://book.douban.com/subject/30364619/" style="font-size: 10pt; color: rgb(0, 0, 255); font-family: &quot;Lucida Grande&quot;;">参考文献4</a> <span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">- P963</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">）</span><span style="font-size: 12pt;"> </span></div></li><ul><li><div><span style="font-size: 12pt;">在早期版本的 Python 中，所有类并没有一个共同的祖先 object，如果定义一个类，但没有显式指定其祖先，那么就被解释为</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">经典类/</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">旧式类</span><span style="font-size: 12pt;">。</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">例如：</span></div></li></ul><div><span style="font-size: 12pt;">       </span><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [2].png" type="image/png" data-filename="Image.png" width="588"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><ul><li><div><span style="font-size: 12pt;">Python 2.x 版本中，为了向后兼容保留了经典类。该版本中的新式类</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">必须显式继承</span> <span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">object</span> <span style="font-size: 12pt; color: rgb(173, 0, 0);">或者</span><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">其它新式类（包括内置类型派生的类）</span><span style="font-size: 12pt;">，否则，该类就被视为经典类。</span></div></li><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">这里“向后兼容”指兼容更早期的版本。（</span><a href="https://baike.baidu.com/item/%E5%90%91%E5%89%8D%E5%85%BC%E5%AE%B9" style="font-size: 11pt; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">百度百科</a><span style="font-size: 11pt; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">：</span></span><span style="font-size: 11pt; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;;">向后兼容处理的是一个以较早版本编译的程序集是否可以在较新版本上执行的问题。 向前兼容处理的是一个以较新版本编译的程序集是否可以在较老版本上执行的问题。）</span></div></li><li><div><span style="font-size: 11pt; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;;">Python 2.x 版本中，新式类定义时必须继承object类 或 其它新式类，被定义继承了object类 或 其它新式类的，就叫做新式类，否则就叫经典类。也就是说，在 Python 2.x 中，新式类和经典类是一组可选的扩展。</span></div></li></ul></ul><div><span style="font-size: 12pt;">       </span><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [3].png" type="image/png" data-filename="Image.png" width="586"/></span></div></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><ul><li><div><span style="font-size: 12pt; color: rgb(173, 0, 0);">而在 Python 3.x 版本中，不再保留旧式类的概念</span><span style="font-size: 12pt;">。因此，没有继承任何其它类的类</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">都</span><span style="font-size: 12pt; color: rgb(173, 0, 0); text-decoration: underline;">隐式地</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">继承自 object</span><span style="font-size: 12pt;">。</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">可以说，在 Python 3.x 中，显式声明某个类继承自 object 似乎是冗余的。但如果考虑跨版本兼容，那么就必须将 object 作为所有基类的祖先，因为如果不这么做的话，这些类将被解释为旧式类，最终会导致难以诊断的问题。</span></div></li><li><div><span style="font-size: 14.6667px;"><span style="font-size: 14.6667px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;;">也就是说，在Python 3.x 中，所有的类都是我们所谓的“新式类”</span><span style="font-size: 14.6667px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;;">。</span></span></div></li></ul></ul></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><a href="http://c.biancheng.net/view/vip_6069.html" style="font-size: 12pt;">Python MRO 方法解析顺序</a></div></li><ul><li><div><span style="font-size: 12pt;">Python 类是支持（多）继承的，一个类的方法和属性可能定义在当前类，也可能定义在基类。针对这种情况，当调用类方法或类属性时，就需要对当前类以及它的基类进行搜索，以确定方法或属性的位置，而搜索的顺序就称为<span style="font-size: 12pt; color: rgb(173, 0, 0);">方法解析顺序</span></span><span style="font-size: 12pt; color: rgb(173, 0, 0);">（Method Resolution Order，简称 MRO）</span><span style="font-size: 12pt;">。</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">对于只支持单继承的编程语言来说，MRO 很简单，就是从当前类开始，逐个搜索它的父类；而对于 Python，它支持多继承，MRO 相对会复杂一些。</span></div></li></ul><li><div><span style="font-size: 12pt;">Python 发展至今，经历了以下 3 种 MRO 算法，分别是：</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">（详细介绍见原文）</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">从左往右，采用</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">深度优先搜索（DFS）的算法</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">，称为</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">旧式类的 MRO</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">；</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">自 Python 2.2 版本开始，新式类在采用深度优先搜索算法的基础上，对其做了优化</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; text-decoration: line-through;">，称为</span><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; text-decoration: line-through;">新式类的MRO</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">；</span></span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">自 Python 2.3 版本，对新式类采用了 C3 算法。（广度优先算法？）</span></span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; color: rgb(68, 68, 68);">由于 Python 3.x 仅支持新式类，所以该版本只使用</span> <span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; color: rgb(173, 0, 0); font-weight: bold;">C3 算法</span><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; color: rgb(68, 68, 68);">。（广度优先算法）</span></span></div></li></ul></ul></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><li><div><span style="font-size: 12pt;"><a href="https://www.cnblogs.com/doumingyi/p/12469949.html" style="font-size: 12pt; font-weight: bold;">构造函数的继承</a><span style="font-size: 12pt; font-weight: bold;"> / </span><a href="http://c.biancheng.net/view/2290.html" style="font-size: 12pt; font-weight: bold;">调用父类的构造方法</a></span></div></li><ul><li><div><span style="font-size: 16px;">子类要有自己的属性，又想继承父类的属性，就需要先继承，再重写。</span></div></li></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><span style="font-size: 12pt;">前面说到，</span><span style="font-size: 12pt;">在继承过程中，如果子类没有重新定义自己的构造函数，则会自动继承最左边的父类的构造函数。</span></div></li><ul><li><div><span style="font-size: 12pt;">如果子类在定义中定义了自己的构造函数（重写），则不会继承任何父类的构造函数。</span></div></li><li><div><span style="font-size: 12pt;">如果子类需要在自己的构造函数中继承某个父类的构造函数，则需要在自己的构造函数中通过一定方式来调用该父类的构造函数。</span></div></li><li><div><span style="font-size: 16px;">构造函数的继承和调用方式，有 2 种：</span></div></li></ul></ul></ul><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 290px;"></col><col style="width: 398px;"></col><col style="width: 202px;"></col><col style="width: 184px;"></col></colgroup><tbody><tr><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 290px; padding: 8px;"><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 255, 255); font-weight: bold;">继承方式</span></span></div></td><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 398px; padding: 8px;"><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 255, 255); font-weight: bold;">构造函数继承的表示方式</span></span></div></td><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 202px; padding: 8px;"><div><span style="font-size: 16px;"><span style="font-size: 16px; color: rgb(255, 255, 255); font-weight: bold;">适用的类</span></span></div></td><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 184px; padding: 8px;"><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 255, 255); font-weight: bold;">其它</span></span></div></td></tr><tr><td style="width: 290px; padding: 8px; border: 1px solid;"><div><span style="font-size: 16px;">未绑定方法：</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 11pt; font-family: Monaco;">类名</span><span style="font-size: 11pt; font-family: Monaco; font-weight: bold;">.</span><span style="font-size: 11pt; font-family: Monaco;">方法名(实例名, 方法的参数列表) </span></div></td><td style="width: 398px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">父类名.__init__(self, 父类初始化参数列表)</span></div></td><td style="width: 202px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">经典类</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">所有新式类</span></div></td><td style="width: 184px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">显式名称调用方案</span></div></td></tr><tr><td rowspan="2" style="height: 56px; width: 290px; padding: 8px; border: 1px solid;"><span style="font-size: 12pt;">super()</span></td><td style="width: 398px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">super(父类名, self).__init__(父类初始化参数列表)</span></div></td><td style="width: 202px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">Python 2.x 新式类</span></div></td><td style="width: 184px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">显示（地使用super）</span></div></td></tr><tr><td style="border: 1px solid; width: 398px; padding: 8px;"><div><span style="font-size: 12pt;">super().__init__(父类初始化参数列表)</span></div></td><td style="width: 202px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">Python 3.x 新式类</span></div></td><td style="width: 184px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">隐式</span></div></td></tr></tbody></table><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">使用 super() 函数。但如果涉及多继承，该函数只能调用第一个直接父类的构造方法。</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">也就是说，涉及到多继承时，在子类构造函数中，调用第一个父类构造方法的方式可以用以上 2 种，而调用其它父类构造方法的方式只能使用未绑定方法。（</span><a href="http://c.biancheng.net/view/2290.html" style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">来源</a><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">）</span></div></li><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-family: &quot;Helvetica Neue&quot;;">super() 技术在 Python 版本间是不能移植的</span><span style="font-size: 11pt; font-family: &quot;Helvetica Neue&quot;;">。它的形式在 Python 2.x 和 3.x 种事不同的，而不仅仅只是在经典类和新式类之间的差异。</span></font><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（</span><a href="https://book.douban.com/subject/30364619/" style="font-size: 10pt; color: rgb(0, 0, 255); font-family: &quot;Lucida Grande&quot;;">参考文献4</a> <span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">- P1025</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">）</span></div></li><li><div><span style="font-size: 11pt; font-family: &quot;Lucida Grande&quot;;">在涉及多继承时，super 可能会带来许多不容易被发现的问题（单继承就不会，但 super 在多继承中会带来它特有的效率等方面的优势），加之，未绑定方法（显式名称调用方案）在经典类和所有新式类类中都适用，且形式一致，</span><span style="color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;; font-size: 16pt;">如无其它特别的需求，推荐未绑定方式来继承</span><span style="font-size: 11pt; font-family: &quot;Lucida Grande&quot;;">。</span></div></li></ul></ul></ul></div><div><span style="font-size: 12pt;">                       </span><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [4].png" type="image/png" data-filename="Image.png" width="852"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><ul><ul><li><div><span style="font-size: 12pt;"><a href="http://c.biancheng.net/view/vip_6072.html" style="font-size: 12pt;">super() 使用注意事项</a></span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">尽可能避免使用多继承，可以使用一些设计模式来替代它；</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">super 的使用必须一致，即在类的层次结构中，</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">要么全部使用 super，要么全不用</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。混用 super 和传统调用是一种混乱的写法；</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">如果代码需要兼容 Python 2.x，在 Python 3.x 中应该显式地继承自 object。在 Python 2.x 中，没有指定任何祖先地类都被认定为旧式类 / 经典类。</span></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 16pt; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">调用父类时应提前查看类的层次结构，新式类可以使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 16pt; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类的 __mro__ 属性</span></span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 16pt; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">或者</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 16pt; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">mro() 方法</span></span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 16pt; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">查看有关类的 MRO。</span></div></li></ul></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><span style="font-size: 12pt;"><a href="http://c.biancheng.net/view/vip_6070.html" style="font-size: 12pt;">内置类型子类化</a></span></div></li><ul><li><div><span style="font-size: 12pt;">内置类型子类化，其实就是自定义一个新类，使其继承有类似行为的内置类，通过重定义这个新类实现指定的功能。</span></div></li><li><div><span style="font-size: 12pt;">其实，除了 Python 中常用的基本内置类型，collections 模块中还额外提供了很多有用的容器，这些容器可以满足大部分情况。</span></div></li></ul></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">【7</span> <a href="http://c.biancheng.net/view/5833.html" style="font-size: 12pt; font-weight: bold;">Python 多态</a><span style="font-size: 12pt;">】</span></div><ul><li><div><span style="font-size: 12pt;">Python 是弱类型语言，其最明显的特征是在使用变量时，无需为其指定具体的数据类型。这会导致一种情况，即同一变量可能会被先后赋值不同的类对象。</span></div></li><li><div><span style="font-size: 12pt;">类的多态特性，要满足以下 2 个前提条件：</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">继承：多态一定是发生在子类和父类之间；</span></div></li><li><div>重写：子类重写了父类的方法。</div></li></ul><div><span style="font-size: 12pt;">        <img src="7_类和对象 2_files/Image [5].png" type="image/png" data-filename="Image.png" width="791"/></span></div><ul><li><div><span style="font-size: 12pt;">仅仅时上面展示的这个例子，还无法领略 Python 类使用多态特性的精髓。其实，Python 在多态的基础上，衍生出了一种更灵活的编程机制。</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">继续对上面的程序进行改写：</span></div></li><div><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [6].png" type="image/png" data-filename="Image.png" width="793"/></span></div><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">此程序中，通过给 WhoSay 类中的 say() 函数添加一个 who 参数，其内部利用传入的 who 调用 say() 方法。这意味着，当调用 WhoSay 类中的 say() 方法时，我们传给 who 参数的是哪个类的实例对象，它就会调用那个类中的 say() 方法。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 249, 249); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">在其它教程中，Python 这种由多态衍生出的更灵活的编程机制，又称为“鸭子模型”或“鸭子类型”。</span></div></li></ul></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><ul><li><div><span style="font-size: 12pt;"><a href="http://c.biancheng.net/view/2289.html" style="font-size: 12pt; font-weight: bold;">父类方法重写</a></span></div></li><ul><li><div><span style="font-size: 12pt;">子类</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">继承</span><span style="font-size: 12pt;">了父类，那么子类就拥有了父类所有的公有变量和方法。通常情况下，子类会在此基础上，</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">扩展</span><span style="font-size: 12pt;">一些新的属性和方法。</span></div></li><li><div><span style="font-size: 12pt;">但有时候我们可能会遇到这样一种情况，即子类从父类继承得来的方法中，大部分是适合子类使用的，而有个别的类方法，并不能直接照搬父类的，需要对这些方法根据子类自身的应用情况进行修改，否则无法使用。针对这种情况，我们就需要在子类中</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">重写</span><span style="font-size: 12pt;">父类的方法。</span></div></li><li><div><span style="font-size: 12pt;"><a href="https://www.cnblogs.com/doumingyi/p/12469949.html" style="font-size: 12pt;">重写的条件</a>：</span></div></li><ul><li><div><span style="font-size: 12pt;">重写方法的</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">方法名</span><span style="font-size: 12pt;">必须和父类中被重写的方法名必须一模一样。</span></div></li><li><div><span style="font-size: 12pt;">重写方法的</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">传入的参数名</span><span style="font-size: 12pt;">和参数的</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">个数</span><span style="font-size: 12pt;">必须和父类中被重写方法的必须一模一样。</span></div></li><li><div><span style="font-size: 12pt;">重写方法的</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">返回值类型</span><span style="font-size: 12pt;">和父类中被重写方法的必须一模一样。</span></div></li></ul><div><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [7].png" type="image/png" data-filename="Image.png" width="844"/></span></div></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><ul><li><div><span style="font-size: 16px;"><span style="font-size: 16px; font-weight: bold;">类的继承、定制（重写）和扩展 → </span><a href="https://blog.csdn.net/qinghange/article/details/104899598" style="font-size: 16px; color: rgb(173, 0, 0); font-weight: bold;">多态</a></span></div></li><ul><li><div><span style="font-size: 12pt;">方法重写发生在不同类之间，是实现多态的必要条件。</span></div></li><li><div><span style="font-size: 12pt;">多态</span><span style="font-size: 12pt;">依赖</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">继承</span><span style="font-size: 12pt;">，从一个父类派生出多个子类，这些子类都拥有父类的变量和方法，如果对父类中某个方法不满意，可以在子类中重写父类的方法（</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">定制/重写</span><span style="font-size: 12pt;">），</span><span style="font-size: 12pt;">同时又可以自定义不同于父类的变量和方法（</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">扩展</span><span style="font-size: 12pt;">），</span><span style="font-size: 12pt;">这种行为称之为</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">多态</span><span style="font-size: 12pt;">。</span></div></li><ul><li><div><span style="font-size: 12pt;">多态的特点：</span></div></li><ul><li><div><span style="font-size: 12pt;">对扩展开放：</span><span style="font-size: 10pt;">即可以随意的增加父类的子类。</span></div></li><li><div><span style="font-size: 12pt;">对修改封闭：</span><span style="font-size: 10pt;">即对于依赖父类的函数，新增子类对该函数无任何影响。</span></div></li></ul></ul></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><ul><li><div><span style="font-size: 12pt;"><a href="https://www.cnblogs.com/doumingyi/p/12469949.html" style="font-size: 12pt;">多态的作用是什么呢？</a></span></div></li><ul><li><div><span style="font-size: 10pt;">我们知道，封装可以隐藏实现细节，使得代码模块化；继承可以扩展已存在的代码模块（类）；它们的目的都是为了——</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">代码重用</span><span style="font-size: 10pt;">。而多态则是为了实现另一个目的——</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">接口重用</span><span style="font-size: 10pt;">！多态的作用，就是为了类在继承和派生的时候，保证使用“家谱”中任一类的实例的某一属性时的正确调用。</span></div></li><li><div><span style="font-size: 10pt;">Pyhon 很多语法都是支持多态的，比如 len(),sorted(), 你给len传字符串就返回字符串的长度，传列表就返回列表长度。</span></div></li></ul></ul></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">【8</span> <span style="font-size: 12pt;"><a href="http://c.biancheng.net/view/2291.html" style="font-size: 12pt; font-weight: bold;">__slots__：限制实例动态添加属性和方法</a></span><span style="font-size: 12pt;">】</span></div><ul><li><div><span style="font-size: 16px;">在本章第 2 节《Python 类和实例》中“类的实例化”这一小节，我们介绍了如何动态地为单个实例对象添加属性。其实，如果有必要，我们还可以为一个类的所有实例统一动态地添加属性，即通过动态地给类添加属性来实现。</span></div></li><ul><li><div><span style="font-size: 16px;">类中的方法分为：类方法、静态方法和实例方法，Python 允许为类动态地添加这 3 种方法。</span></div></li><li><div><span style="font-size: 16px;">而对于实例，只允许同态地为该实例添加实例方法，不能通过实例动态地添加类方法和静态方法。</span></div></li><li><div><span style="font-size: 12pt;">为单个实例对象添加方法，不会影响该类的其它实例对象；而如果为类动态地添加方法，则所有的实例对象都可以使用。</span></div></li></ul><div>          <img src="7_类和对象 2_files/Image [8].png" type="image/png" data-filename="Image.png" style="font-size: 12pt;" width="674"/></div></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><b><font color="#41AD1C" style="font-size: 14pt;"># </font><font color="#41AD1C" style="font-size: 16pt;">②</font><font color="#41AD1C" style="font-size: 14pt;">：动态地为实例添加实例方法</font></b></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">class CLanguage:</font></div><div><font style="font-size: 11pt;">    pass</font></div><div><br/></div><div><br/></div><div>print(&quot;动态地为实例添加实例方法之前<b><font color="#A600C4">类</font></b>的状态：&quot;, dir(CLanguage), '\n\n')</div><div><font color="#A8A8A8">---------------------------------------------------------------------------</font></div><div><font color="#A8A8A8">动态地为实例添加实例方法之前</font><b><font color="#A600C4">类</font></b><font color="#A8A8A8">的状态： ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__']</font></div><div><br/></div><div><br/></div><div><font style="font-size: 11pt;"># 下面定义了一个实例方法</font></div><div><font style="font-size: 11pt;">def info_i(self):</font></div><div><font style="font-size: 11pt;">    print(&quot;正在调用实例方法&quot;)</font></div><div><br/></div><div><br/></div><div><font style="font-size: 11pt;background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 实例只能动态地添加实例方法，不能通过实例动态地向实例所属的类添加类方法或静态方法</font></div><div><font style="font-size: 11pt;background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 并且，通过实例动态地添加的实例方法，只影响到该实例，不会影响所属类的其它实例</font></div><div><font style="font-size: 11pt;">clang_2 = CLanguage()</font></div><div>print(&quot;动态地为实例添加实例方法之前<b><font color="#A600C4">实例</font></b>的状态：&quot;, dir(clang_2), '\n\n')</div><div><font style="color: rgb(168, 168, 168);">---------------------------------------------------------------------------</font></div><div><font color="#A8A8A8">动态地为实例添加实例方法之前</font><b><font color="#A600C4">实例</font></b><font color="#A8A8A8">的状态： ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__']</font></div><div><br/></div><div><br/></div><div><font style="font-size: 11pt;">clang_2.info_i = info_i</font></div><div>print(&quot;动态地为实例添加实例方法之后<b><font color="#A600C4">类</font></b>的状态：&quot;, dir(CLanguage), '\n\n')</div><div><font style="color: rgb(168, 168, 168);">---------------------------------------------------------------------------</font></div><div><font color="#A8A8A8">动态地为实例添加实例方法之后</font><b><font color="#A600C4">类</font></b><font color="#A8A8A8">的状态： ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__']</font></div><div><br/></div><div>print(&quot;动态地为实例添加实例方法之后<b><font color="#A600C4">实例</font></b>的状态：&quot;, dir(clang_2))</div><div><font style="color: rgb(168, 168, 168);">---------------------------------------------------------------------------</font></div><div><font color="#A8A8A8">动态地为实例添加实例方法之后</font><b><font color="#A600C4">实例</font></b><font color="#A8A8A8">的状态： ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__',</font> <font color="#A600C4">'info_i'</font><font color="#A8A8A8">]</font></div><div><font color="#A8A8A8"><br/></font></div><div><font style="font-size: 11pt;background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 必须手动地为实例方法的 self 参数传值</font></div><div><font style="font-size: 11pt;">clang_2.info_i(clang_2)</font></div><div><font style="color: rgb(168, 168, 168);">---------------------------------------------------------------------------</font></div><div><font color="#A8A8A8">正在调用实例方法</font></div><div><font color="#A8A8A8"><br/></font></div><div><font style="font-size: 11pt;">clang_2.info_i()</font></div><div><font color="#A8A8A8">---------------------------------------------------------------------------</font></div><div><font color="#A8A8A8">TypeError                                 Traceback (most recent call last)</font></div><div><font color="#A8A8A8">&lt;ipython-input-128-8792dff54952&gt; in &lt;module&gt;      </font></div><div><font color="#A8A8A8">      1 # 必须手动地为实例方法的 self 参数传值      </font></div><div><font color="#A8A8A8">      2 clang_2.info_i(clang_2)</font></div><div><font color="#A8A8A8">----&gt; 3 clang_2.info_i()      </font></div><div><font color="#A8A8A8">TypeError: info_i() missing 1 required positional argument: 'self'</font></div><div><br/></div><div><font style="font-size: 11pt;">clang_2.info_i             </font><font style="color: rgb(168, 168, 168);"># 没有任何输出</font></div><div>print(dir(clang_2), '\n')</div><div><font style="font-size: 11pt;">clang_2.info_i(clang_2)    </font><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 可以看出<font style="font-size: 11pt;">每次都得</font>手动地为实例方法的 self 参数传值</span></div><div><font style="color: rgb(168, 168, 168);">---------------------------------------------------------------------------</font></div><div><font color="#A8A8A8">['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'info_i']</font></div><div><br/></div><div><font color="#A8A8A8">正在调用实例方法</font></div><div><br/></div><div>clang_2.info_i</div><div><font style="font-size: 11pt;">clang_2.info_i = &quot;I&quot;       </font># 这个赋值改变了实例命名空间 clang_2 中 info_i 名称的绑定对象，它现在是绑定到了一个 str 对象 'I'， 而不是方法。</div><div>print(dir(clang_2))</div><div><font style="font-size: 11pt;">clang_2.info_i(clang_2)</font></div><div><font color="#A8A8A8">---------------------------------------------------------------------------</font></div><div><font color="#A8A8A8">['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__',</font> <font color="#A600C4">'info_i'</font><font color="#A8A8A8">]</font></div><div><font color="#A8A8A8"><br/></font></div><div><font color="#A8A8A8">TypeError                                 Traceback (most recent call last)</font></div><div><font color="#A8A8A8">&lt;ipython-input-133-7394b02c3364&gt; in &lt;module&gt;      </font></div><div><font color="#A8A8A8">      clang_2.info_i = &quot;I&quot;      </font></div><div><font color="#A8A8A8">      print(dir(clang_2))</font></div><div><font color="#A8A8A8">----&gt; clang_2.info_i(clang_2)</font></div><div><font color="#A8A8A8">TypeError: 'str' object is not callable</font></div><div><br/></div><div><br/></div><div><br/></div><div><font style="font-size: 11pt;background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 为单个实例对象添加方法，不会影响该类的其它实例对象</font></div><div><font style="font-size: 11pt;">clang_3 = CLanguage()</font></div><div><font style="font-size: 11pt;">clang_3.info_i()</font></div><div><font color="#A8A8A8">-------------------------------------------------------------------------</font></div><div><font color="#A8A8A8">AttributeError                            Traceback (most recent call last)</font></div><div><font color="#A8A8A8">&lt;ipython-input-106-403cbdbc221c&gt; in &lt;module&gt;      </font></div><div><font color="#A8A8A8">     # 为单个实例对象添加方法，不会影响该类的其它实例对象      </font></div><div><font color="#A8A8A8">     clang_3 = CLanguage()</font></div><div><font color="#A8A8A8">----&gt;clang_3.info_i()</font></div><div><font color="#A600C4">AttributeError: 'CLanguage' object has no attribute 'info_i'</font></div><div><font color="#A8A8A8"><br/></font></div><div><font color="#A8A8A8"><br/></font></div><div># 下面定义了一个类方法</div><div>@classmethod</div><div>def info_c(cls):</div><div>    print(&quot;正在调用类方法&quot;)</div><div><br/></div><div><br/></div><div># 下面定义一个静态方法</div><div>@staticmethod</div><div>def info_s():</div><div>    print(&quot;正在调用静态方法&quot;)</div><div><br/></div><div><font style="font-size: 11pt;background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 不能通过实例动态地向实例所属的类添加类方法</font></div><div>clang_2 = CLanguage()</div><div>clang_2.info_c = info_c</div><div>clang_2.info_c()</div><div><font color="#A8A8A8">---------------------------------------------------------------------------</font></div><div><font color="#A8A8A8">TypeError                                 Traceback (most recent call last)</font></div><div><font color="#A8A8A8">&lt;ipython-input-111-01cc09575143&gt; in &lt;module&gt;      </font></div><div><font color="#A8A8A8">      2 clang_2 = CLanguage()      </font></div><div><font color="#A8A8A8">      3 clang_2.info_c = info_c</font></div><div><font color="#A8A8A8">----&gt; 4 clang_2.info_c()</font></div><div><font color="#A600C4">TypeError: 'classmethod' object is not callable</font></div><div><br/></div><div><br/></div><div><font style="font-size: 11pt;background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 不能通过实例动态地向实例所属的类添加静态方法</font></div><div>clang_2 = CLanguage()</div><div>clang_2.info_s = info_s</div><div>clang_2.info_s()</div><div><font color="#A8A8A8">---------------------------------------------------------------------------</font></div><div><font color="#A8A8A8">TypeError                                 Traceback (most recent call last)</font></div><div><font color="#A8A8A8">&lt;ipython-input-112-3cdf9e813fcb&gt; in &lt;module&gt;      </font></div><div><font color="#A8A8A8">      2 clang_2 = CLanguage()      </font></div><div><font color="#A8A8A8">      3 clang_2.info_s = info_s</font></div><div><font color="#A8A8A8">----&gt; 4 clang_2.info_s()</font></div><div><font color="#A600C4">TypeError: 'staticmethod' object is not callable</font></div><div><br/></div></div><ul><ul><div><span style="font-size: 12pt;"><br/></span></div><li><div><span style="font-size: 12pt;">从上面可以看出，动态给类或者实例对象添加属性（上面只演示了添加方法），是非常灵活的。</span></div></li><li><div><span style="font-size: 12pt;">但与此同时，如果胡乱地使用，也会给程序带来一定的隐患，即程序中已经定义好的类，如果不做任何限制，是可以做动态的修改的。</span></div></li></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><ul><li><div><span style="font-size: 12pt;">Python 提供了 __slots__ 属性，通过它可以避免用户频繁的给</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">实例对象</span><span style="font-size: 12pt;">动态地添加属性。</span></div></li><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">__slots__ 只能限制为实例对象动态添加属性和方法，而无法限制动态地为类添加属性和方法。</span></span></div></li><li><div><span style="font-size: 11pt; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;;">__slots__最好只用在罕见的，有大量实例出现的，内存密集型应用的情况下。</span></div></li></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><ul><ul><li><div><span style="font-size: 12pt;">__slots__ 属性值其实就是一个元组（也可以是序列），只有其中指定的元素，才可以作为动态添加的属性或者方法的名称。</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">举个例子：</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt;">class CLanguage:</font></div><div><font style="font-size: 11pt;">    __slots__ = ('name','add','info')</font></div></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> CLanguage 类中指定了 __slots__ 属性，这意味着，该类的实例对象仅限于动态添加 name、add、info 这 3 个变量以及 name()、add() 和 info() 这 3 个方法。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 249, 249); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">注意，对于动态添加的方法，__slots__ 限制的是其方法名，并不限制参数的个数。</span></div></li></ul></ul></ul><div><span style="font-size: 12pt;">                         <img src="7_类和对象 2_files/Image [9].png" type="image/png" data-filename="Image.png" width="790"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">前面提到，__slots__ 属性限制的对象是类的实例对象，而不是类，因此下面的代码是合法的：</span></div></li></ul></ul></ul><div><span style="font-size: 12pt;">                          </span><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [10].png" type="image/png" data-filename="Image.png" width="786"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">此外，__slots__ 属性对由该类派生出来的子类，也是不起作用的。例如如下代码：</span></div></li></ul></ul></ul><div><span style="font-size: 12pt;">                          </span><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [11].png" type="image/png" data-filename="Image.png" width="792"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">【9 </span><span style="font-size: 12pt;"><a href="http://c.biancheng.net/view/2292.html" style="font-size: 12pt; font-weight: bold;">type() 函数：动态创建类</a>】</span></div><ul><li><div><span style="font-size: 12pt;">type() 函数是 Python 的内置函数，它有两个用途：</span></div></li><ul><li><div><span style="font-size: 12pt;">通常用来查看某个变量的具体类型。</span></div></li><li><div><span style="font-size: 12pt;">创建一个自定义类型（也就是创建一个类）。—— 高级用法</span></div></li></ul></ul><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 278px;"></col><col style="width: 704px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 278px; padding: 8px;"><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 255, 255); font-weight: bold;">type() 用途</span></span></div></td><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 704px; padding: 8px;"><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 255, 255); font-weight: bold;">说明</span></span></div></td><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 130px; padding: 8px;"><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 255, 255); font-weight: bold;">其它</span></span></div></td></tr><tr><td style="width: 278px; padding: 8px; border: 1px solid;"><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">class</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 19.2px; border-radius: 3px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">type</span><span style="font-size: larger; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">(</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">object</span><span style="font-size: larger; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">)</span></div></td><td style="width: 704px; padding: 8px; border: 1px solid;"><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">返回</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">object</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">的类型。 返回值是一个 type 对象，通常与</span> <span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#instance.__class__" style="font-size: 15.44px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; border-radius: 3px; hyphens: none; color: rgb(99, 99, 187); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;" title="instance.__class__">object.</a><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#instance.__class__" style="font-size: 15.44px; color: rgb(173, 0, 0); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">__</a><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#instance.__class__" style="font-size: 15.44px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; border-radius: 3px; hyphens: none; color: rgb(99, 99, 187); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;" title="instance.__class__">class</a><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#instance.__class__" style="font-size: 15.44px; color: rgb(173, 0, 0); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">__</a><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">所返回的对象相同。</span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">推荐使用</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://docs.python.org/zh-cn/3.7/library/functions.html#isinstance" style="font-size: 15.44px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-radius: 3px; hyphens: none; color: rgb(99, 99, 187); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;" title="isinstance">isinstance()</a><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">内置函数来检测对象的类型，因为它会考虑子类的情况。</span></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;"><br/></span></div></td></tr><tr><td style="width: 278px; padding: 8px; border: 1px solid;"><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">class</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="background-color: rgb(255, 255, 255); font-size: 19.2px; border-radius: 3px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">type</span><span style="font-size: larger; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">(</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">name</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">,</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">bases</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">,</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">dict</span><span style="font-size: larger; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">)</span></div></td><td style="width: 704px; padding: 8px; border: 1px solid;"><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">返回一个新的 type 对象。 这在本质上是</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://docs.python.org/zh-cn/3.7/reference/compound_stmts.html#class" style="font-size: 15.44px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-radius: 3px; hyphens: none; color: rgb(99, 99, 187); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">class</a><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">语句的一种动态形式。</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span></div><ul><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">name</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">字符串即类名并且会成为</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#definition.__name__" style="font-size: 15.44px; color: rgb(173, 0, 0); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">__</a><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#definition.__name__" style="font-size: 15.44px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; border-radius: 3px; hyphens: none; color: rgb(99, 99, 187); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;" title="definition.__name__">name</a><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#definition.__name__" style="font-size: 15.44px; color: rgb(173, 0, 0); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">__</a><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">属性；</span><span style="font-size: 12pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">表示类的名称；</span></div></li><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">bases</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">元组列出基类并且会成为</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#class.__bases__" style="font-size: 15.44px; color: rgb(173, 0, 0); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">__</a><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#class.__bases__" style="font-size: 15.44px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; border-radius: 3px; hyphens: none; color: rgb(99, 99, 187); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;" title="class.__bases__">bases</a><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#class.__bases__" style="font-size: 15.44px; color: rgb(173, 0, 0); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">__</a><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">属性；</span><span style="font-size: 12pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">其中存储的是该类的父类；</span></div></li><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">而</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">dict</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">字典为包含类主体定义的命名空间并且会被复制到一个标准字典成为</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#object.__dict__" style="font-size: 15.44px; color: rgb(173, 0, 0); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">__</a><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#object.__dict__" style="font-size: 15.44px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; border-radius: 3px; hyphens: none; color: rgb(99, 99, 187); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;" title="object.__dict__">dict</a><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html#object.__dict__" style="font-size: 15.44px; color: rgb(173, 0, 0); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">__</a><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">属性，</span><span style="font-size: 12pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">用于表示类内定义的变量或者方法。</span></div></li><ul><li><div><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">注意，dict 这里不是说参数名为dict，而是说第3个参数要传入一个 dict 类型的值。也不可以写成dict = dict(say = say, name = &quot;C 语言中文网&quot;) 的key-value形式。</span></div></li></ul></ul><div><span style="font-size: 12pt;"><br/></span></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;"><br/></span></div></td></tr></tbody></table><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">这里重点介绍 type() 函数的高级用法，即创建一个新类。</span></div></li><div><span style="font-size: 11pt; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;;"><img src="7_类和对象 2_files/Image [12].png" type="image/png" data-filename="Image.png" width="803"/></span></div></ul></ul></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 249, 249); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">注意，Python 元组语法规定，当 (object,) 元组中只有一个元素时，最后的逗号（,）不能省略。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 249, 249); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">如何判断 dict 字典中添加的是方法还是属性？很简单，</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 249, 249); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">如果该键值对中，值最终指向字面值（如 &quot;C语言中文网&quot;），则表示为类添加了一个类变量；</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 249, 249); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">如果值最终指向外部定义的函数（如 say() ），则表示为类添加了一个实例方法。</span></div></li></ul></ul><li><div><span style="font-size: 12pt;">可以看到，使用 type() 函数创建的类，和直接使用 class 定义的类并无差别。事实上，我们在使用 class 定义类时，Python 解释器底层依然是用 type() 来创建这个类。</span></div></li></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">【10</span> <a href="http://c.biancheng.net/view/2293.html" style="font-size: 12pt; font-weight: bold;">MetaClass 元类</a><span style="font-size: 12pt;">】（此处笔记留待以后完成）</span></div><ul><li><div><span style="font-size: 12pt;"><br/></span></div></li></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><li><div><span style="font-size: 12pt;"><a href="http://c.biancheng.net/view/vip_6073.html" style="font-size: 12pt;">MetaClass 元类底层实现原理</a></span></div></li></ul><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">【11</span> <a href="http://c.biancheng.net/view/2305.html" style="font-size: 12pt; font-weight: bold;">Python 枚举类定义和使用</a><span style="font-size: 12pt;">】</span></div><ul><li><div><span style="font-size: 12pt;">一些具有特殊含义的类，其实例化对象的个数往往是固定的，</span><span style="font-size: 10pt;">比如用一个类表示月份，则该类的实例对象最多有 12 个；再比如用一个类表示季节，则该类的实例化对象最多有 4 个</span><span style="font-size: 12pt;">。</span><span style="font-size: 12pt;">针对这种特殊的类，Python 3.4 中新增加了 Enum 枚举类。即：</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">对于这些实例化对象个数固定的类，可以用枚举类来定义</span><span style="font-size: 12pt;">。</span></div></li><li><div><span style="font-size: 12pt;">如果想将一个类定义为枚举类，只需要令其</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">继承自 enum 模块中的 Enum 类</span><span style="font-size: 12pt;">即可。</span></div></li><ul><li><div><span style="font-size: 12pt;">注意，枚举类的每个成员都由 2 部分组成，分别为</span> <span style="font-size: 12pt; color: rgb(173, 0, 0);">name</span> <span style="font-size: 12pt;">和</span> <span style="font-size: 12pt; color: rgb(173, 0, 0);">value</span><span style="font-size: 12pt;">，其中 name 属性值为该枚举值的</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">变量名</span><span style="font-size: 12pt;">，value 代表</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">该枚举值的序号（序号通常从 1 开始）</span><span style="font-size: 12pt;">。</span></div></li><li><div><span style="font-size: 12pt;">和普通类的用法不同，</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">枚举类不能用来实例化对象</span><span style="font-size: 12pt;">，但这并不妨碍我们访问枚举类中的成员。访问枚举类成员的方式有多种：</span></div></li></ul><div><span style="font-size: 12pt;">        <img src="7_类和对象 2_files/Image [13].png" type="image/png" data-filename="Image.png" width="813"/></span></div></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><span style="font-size: 12pt;">遍历枚举类中所有成员的 2 种方式：</span></div></li><div><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [14].png" type="image/png" data-filename="Image.png" width="812"/></span></div></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><span style="font-size: 12pt;">枚举类成员之间不能比较大小，但可以用</span> <span style="font-size: 12pt; color: rgb(173, 0, 0);">==</span> <span style="font-size: 12pt;">或者</span> <span style="font-size: 12pt; color: rgb(173, 0, 0);">is</span> <span style="font-size: 12pt;">进行比较是否相等，</span></div></li><li><div><span style="font-size: 12pt;">需要注意的是，枚举类中各个成员的值，不能在类的外部做任何修改，</span><span style="font-size: 10pt;">下面语法的做法是错误的</span><span style="font-size: 12pt;">：</span></div></li><div><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [15].png" type="image/png" data-filename="Image.png" width="819"/></span></div></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><span style="font-size: 12pt;">Python 枚举类中各个成员必须保证 name 互不相同，但 value 可以相同，举个例子：</span></div></li><div><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [16].png" type="image/png" data-filename="Image.png" width="816"/></span></div></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><span style="font-size: 12pt;">在实际编程过程中，如果想避免发生这种情况，可以借助 @unique 装饰器，这样当枚举类中出现相同值的成员时，程序会报 ValueError 错误。例如：</span></div></li><div><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [17].png" type="image/png" data-filename="Image.png" width="818"/></span></div></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><li><div><span style="font-size: 12pt;">除了通过继承 Enum 类的方法创建枚举类，还可以</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">使用 Enum() 函数创建枚举类</span><span style="font-size: 12pt;">。例如：</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Enum() 函数可接受 2 个参数，第一个用于指定枚举类的类名，第二个参数用于指定枚举类中的多个成员。</span></div></li></ul><div><span style="font-size: 12pt;"><img src="7_类和对象 2_files/Image [18].png" type="image/png" data-filename="Image.png" width="868"/></span></div></ul><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div></div><div><br/></div></span>
</div></body></html> 