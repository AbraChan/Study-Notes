<html>
<head>
  <title>7_类和对象 1</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/607057 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3175"/>
<h1>7_类和对象 1</h1>

<div>
<span><div><div><div><div><span style="font-size: 12pt;">【本文结构】</span></div><ul><li><div><span style="font-size: 12pt;">0、参考文献</span></div></li><li><div><span style="font-size: 12pt;">1、Python面向对象：一切皆对象</span></div></li><ul><li><div><span style="font-size: 10pt;">面向对象编程</span></div></li><li><div><span style="font-size: 10pt;">类和实例、类型和对象</span></div></li><li><div><span style="font-size: 10pt;">对象和名称</span></div></li><li><div><span style="font-size: 10pt;">Python 类引入了三种新对象类型</span></div></li></ul><li><div><span style="font-size: 12pt;">2、Python 类</span></div></li><ul><li><div><span style="font-size: 10pt;">类的定义</span></div></li><li><div><span style="font-size: 10pt;">__init__() 类构造方法</span></div></li><li><div><span style="font-size: 10pt;">类的实例化</span></div></li><li><div><span style="font-size: 10pt;">方法对象</span></div></li></ul><li><div><span style="font-size: 12pt;">3、浅谈 Python 类命名空间</span></div></li><li><div><span style="font-size: 12pt;">4、Python 描述符</span></div></li><ul><li><div><span style="font-size: 10pt;">描述符</span></div></li><li><div><span style="font-size: 10pt;">property() 函数：定义变量操作属性</span></div></li><li><div><span style="font-size: 10pt;">@property 装饰器</span>、setter 装饰器、deleter 装饰器</div></li></ul><li><div><span style="font-size: 12pt;">5、Python 类的封装</span></div></li></ul><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">【0 参考文献】</span></div><ol><li><div><span style="font-size: 12pt;"><a href="http://c.biancheng.net/python/class_object/" style="font-size: 12pt;">C语言中文网 Python 教程第8章：类和对象</a></span></div></li><li><div><a href="https://docs.python.org/zh-cn/3.7/index.html" style="font-size: 12pt;">Python 3.7.7rc1 文档</a><span style="font-size: 12pt;">（中文）<a href="https://docs.python.org/zh-cn/3.7/tutorial/classes.html" style="font-size: 12pt;">教程：9. 类</a></span></div></li><li><div><a href="https://docs.python.org/3.7/index.html" style="font-size: 12pt;">Python 3.7.7rc1 documentation</a><span style="font-size: 12pt;">（英文）</span></div></li><li><div><span style="font-size: 12pt;"><a href="https://book.douban.com/subject/30364619/" style="font-size: 12pt;">《Python 学习手册》</a></span></div></li></ol><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">【1</span> <a href="http://c.biancheng.net/view/4512.html" style="font-size: 12pt; font-weight: bold;">Python面向对象：一切皆对象</a><span style="font-size: 12pt;">】</span></div><ul><li><div><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">面向对象编程</span><span style="font-size: 12pt;">（</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">Object-oriented Programming</span><span style="font-size: 12pt;">，简称</span> <span style="font-size: 12pt; color: rgb(173, 0, 0);">OOP</span><span style="font-size: 12pt;">）：是一种封装代码的方法。</span> 它<span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">是在面向过程编程的基础上发展来的，它比面向过程编程具有更强的灵活性和扩展性。</span></div></li><ul><li><div><span style="font-size: 14.6667px; font-family: &quot;Helvetica Neue&quot;;">数据的封装：e.g. 列表</span></div></li><li><div><span style="font-size: 14.6667px; font-family: &quot;Helvetica Neue&quot;;">代码的封装：e.g. 函数</span></div></li><li><div><span style="font-size: 14.6667px; font-family: &quot;Helvetica Neue&quot;;">数据+代码的封装：e.g. 类</span></div></li></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><ul><ul><li><div><span style="font-size: 16px;">面向对象相关术语：</span></div></li><ul><li><div><span style="font-size: 16px;">类/类对象：</span><span style="font-size: 10pt;">模板</span></div></li><li><div><span style="font-size: 16px;">实例/实例对象：</span><span style="font-size: 10pt;">类的实例化</span></div></li><li><div><span style="font-size: 16px;">属性（成员）：</span></div></li><ul><li><div><span style="font-size: 16px;">数据属性（数据成员）：</span><span style="font-size: 10pt;">类或实例中的变量/数据</span></div></li><ul><li><div>类数据/变量</div></li><li><div>实例数据/变量</div></li></ul><li><div><span style="font-size: 16px;">方法属性（方法成员）：</span><span style="font-size: 10pt;">类或实例中的函数</span></div></li><ul><li><div>类方法</div></li><li><div>实例方法</div></li></ul><li><div>正常情况下，我们说属性，就是包括数据（/变量）和方法。然而有些地方会用属性指代数据属性，方法指代方法属性，这种时候，就要意识到它所说的属性仅仅指的是数据属性。建议不要采用这种容易产生歧义的说法。</div></li></ul></ul><li><div><span style="font-size: 12pt;">面向对象的 3 个典型特征</span></div></li><ul><ul><li><div><span style="font-size: 16px;">封装</span></div></li><li><div><span style="font-size: 16px;">继承</span></div></li><li><div><span style="font-size: 16px;">多态</span></div></li></ul></ul></ul></ul><div><br/></div><ul><li><div><span style="font-size: 16px;"><span style="font-size: 16px; font-weight: bold;">类 和 实例、类型 和 对象</span></span></div></li><ul><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类提供了一种组合数据和功能的方法。</span></div></li><ul><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">创建一个新类意味着创建一个新的</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">对象</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">类型</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">，从而允许创建一个该类型的新</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">实例</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></li><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 16px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">每个类的实例可以拥有保存自己状态的属性</span></span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></li><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 16px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">一个类的实例也可以有改变自己状态的（定义在类中的）方法</span></span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></li><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Python 的类提供了面向对象编程的所有标准特性：</span></div></li><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类继承机制允许多个基类，</span></span></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">派生类可以覆盖它基类的任何方法，一个方法可以调用基类中相同名称的方法。对象可以包含任意数量和类型的数据。</span></span></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">和模块一样，类也拥有 Python 天然的动态特性：它们在运行时创建，可以在创建后修改。</span></span></div></li></ul><li><div><span style="font-size: 12pt;"><br/></span></div></li><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类和实例的主要差异在于，类可以看做一个产生实例的工厂，只要有需要，创建多少实例都可以。</span></div></li><li><div><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">类和模块的区别：</span><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（</span><a href="https://book.douban.com/subject/30364619/" style="font-size: 16px; color: rgb(0, 0, 255); font-family: &quot;Lucida Grande&quot;;">参考文献4</a> <span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">- P755）</span></div></li><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">类是命名空间的说法，容易使人觉得</span><span style="font-size: 10pt; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;;">类</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">和</span><span style="font-size: 10pt; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;;">实例</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">听起来就像</span><span style="font-size: 10pt; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;;">模块</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">，从某种程度上说，确实如此。然而，类树种的对象也有对其它命名空间对象的自动搜索链接，同时类对应的是语句（class 语句）而不是整个文件（Python 中模块对应于文件）。</span></font></div></li><li><div><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">从技术角度来讲，class 语句定义了一个</span><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;; font-weight: bold;">局部作用域</span><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">，该作用域会变成类对象的属性的命名空间，就像模块的</span><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;; font-weight: bold;">全局作用域</span><span style="color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">一样。</span></div></li><li><div><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">类和模块还有另一个差异：内存中一个特定模块只有一个实例</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（所有模块在程序中只能导入一个副本）</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">，所以我们必须重载模块以取得其新代码，但是对类而言，只要有需要创建多少实例都可以。</span></div></li></ul></ul><li><div><span style="font-size: 12pt;"><br/></span></div></li><li><div><span style="font-size: 12pt;">Python 中一切皆对象。</span></div></li><ul><li><div><span style="font-size: 12pt;">创建一个</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">新类</span><span style="font-size: 12pt;">意味着创建一个新的</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">对象</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">类型</span><span style="font-size: 12pt;">。</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">从而允许创建一个该类型的</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">新</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">实例</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></li><ul><li><div><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">新类 是一种 新（对象）类型</span></div></li><li><div><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">一个新类创建一个实例，就是新类这种新类型创建了一个新的对象。</span></div></li></ul><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">在 Python 对象模型中，类 和 通过类产生的实例</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">是两种不同的</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">对象类型</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。两者的主要目的是作为另一种命名空间（即变量的封装，也就是我们可以附加属性的地方）。</span></div></li><li><div><br/></div></li><li><div><span style="font-size: 12pt;">【锐平】Python 中一切皆对象，所以，广义上来说类、实例、类型、类型的实例（对象），都是Python中的对象。</span></div></li></ul></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><ul><li><div><span style="font-size: 16px; font-weight: bold;">对象 和 名称</span></div></li><ul><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">对象</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">具有个性，</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; text-decoration: underline;">多个</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; text-decoration: underline;">名称</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; text-decoration: underline;">（在多个作用域内）可以绑定到同一个对象</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。这在其他语言中称为</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">别名</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></li><ul><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">在处理不可变的基本类型（数字，字符串，元组）时可以安全地忽略它。</span></div></li><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">但是，别名对涉及可变对象，如列表，字典和大多数其他类型，的Python代码的语义可能会产生惊人的影响。</span></div></li><li><div><br/></div></li><li><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">这通常用于程序的好处，因为</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">别名在某些方面表现得像指针</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></li><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">例如，传递一个对象很便宜，因为实现只传递一个指针；</span></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">如果函数修改了作为参数传递的对象，调用者将看到更改 --- 这就不需要像 Pascal 中那样使用两个不同的参数传递机制。</span></div></li></ul></ul></ul></ul><div><br/></div><ul><li><div><span style="font-size: 16px; font-weight: bold;">Python 类引入了三种新对象类型</span></div></li><ul><li><div><a href="https://docs.python.org/zh-cn/3.7/tutorial/classes.html#class-objects" style="font-size: 16px;">类对象</a></div></li><li><div><a href="https://docs.python.org/zh-cn/3.7/tutorial/classes.html#instance-objects" style="font-size: 16px;">实例对象</a></div></li><li><div><a href="https://docs.python.org/zh-cn/3.7/tutorial/classes.html#method-objects" style="font-size: 16px;">方法对象</a></div></li></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（</span><a href="https://book.douban.com/subject/30364619/" style="font-size: 10pt; color: rgb(0, 0, 255); font-family: &quot;Lucida Grande&quot;;">参考文献4</a> <span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">- P</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">844</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">）</span></div><div><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">在定义一个新的类时，列出一个以上的父类会触发多重继承。</span></div><div><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">类基本上就是命名空间，也就是用来定义名称（即属性）同时把数据和逻辑提供给客户端的工具。class 语句有效地定义了命名空间。通常，在 class 语句内的赋值语句会创建数据属性，而内嵌的 def 则会创建方法属性。</span></div><div><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">把非函数的对象赋值给类属性，就能实现被所有实例共享的数据属性。我们可以通过类名称修改它，或通过实例或类名称引用它。</span></div><div><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">对实例的属性进行赋值运算（指对数据属性或方法属性的定义）会在该实例内创建或修改名称，而不是在共享的类中。</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#222222" face="Lucida Grande">&gt;&gt;&gt; class SharedData:</font></div><div><font color="#222222" face="Lucida Grande">        spam = 42</font></div><div><br/></div><div><font color="#222222" face="Lucida Grande">&gt;&gt;&gt; SharedData.spam           <font style="font-size: 10pt;"># 通过类名称引用数据属性 spam</font></font></div><div>42</div><div>&gt;&gt;&gt; x = SharedData()</div><div>&gt;&gt;&gt; y = SharedData()</div><div>&gt;&gt;&gt;<span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"> x.spam, y.spam                       # 通过实例名称引用，SharedData 类的数据属性 spam 为它的所有实例所共享</span></div><div><br/></div><div>&gt;&gt;&gt; SharedData.spam = 99     # 通过类名称修改</div></div><div><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">类既像模块也像函数。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 16px;"><br/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">【2</span> <span style="font-size: 12pt; font-weight: bold;">Python 类和实例</span><span style="font-size: 12pt;">】</span></div><ul><li><div><span style="font-size: 16px;"><a href="http://c.biancheng.net/view/4519.html" style="font-size: 16px; font-weight: bold;">类的定义</a>（</span><a href="https://docs.python.org/zh-cn/3.7/tutorial/classes.html#class-objects" style="font-size: 16px;">类对象</a><span style="font-size: 16px;">）：</span><span style="font-size: 12pt;">Python 类是由类头（class 类名）和类体（统一缩进的变量和函数）构成，使用</span> <span style="font-size: 12pt; color: rgb(173, 0, 0);">class 关键字</span><span style="font-size: 12pt;">实现。</span> <span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif;">其基本语法格式如下：</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt;">class 类名：</font></div><div><font style="font-size: 11pt;">    多个（≥0）类变量...</font></div><div><font style="font-size: 11pt;">    多个（≥0）方法...</font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&gt;&gt;&gt; class CLanguage:</div><div>...     # 定义了2个<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#AD0000"><b>类变量</b></font></span></div><div>...     name = &quot;C语言中文网&quot;</div><div>...     site = &quot;http://c.biancheng.net&quot;</div><div>...</div><div>...     #构造函数，也属于<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">实例方法</span></div><div>...     def __init__(self, name, site):</div><div>...             # 定义2个<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#AD0000"><b>实例变量</b></font></span></div><div>...             self.name = name</div><div>...             self.site = site</div><div>...             print(name, &quot;网址为：&quot;, site)</div><div>...</div><div>...     # 定义一个<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">实例方法</span></div><div>...     def i_count(self, money):</div><div>...             # 定义一个<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#AD0000"><b>局部变量</b></font></span> sale</div><div>...             sale = 0.8 * money</div><div>...             print(&quot;正在调用一个实例方法 count()，它的内存信息为：&quot;, self)</div><div>...</div><div>...     # 定义一个<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">类方法</span></div><div>...     @classmethod</div><div>...     def c_info(cls):</div><div>...             print(&quot;正在调用一个类方法 info()，它的内存信息为：&quot;, cls)</div><div>...</div><div>...     # 定义一个<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">静态方法</span>（下面这种方式通过实例调用或类调用都可以正常地调用）</div><div>...     @staticmethod</div><div>...     def s_say():</div><div>...             print(&quot;正在调用一个静态方法 say()&quot;)</div><div>...</div><div>...     # 另一种方式定义一个静态方法，严格来讲，不能说是静态方法，而是<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">无实例方法</span>，它只能通过类来进行调用。</div><div>...     def non_instance_method():</div><div>...             print(&quot;正在调用一个无实例方法&quot;)</div><div>...</div><div>...</div><div>...</div><div>...     # 在定义类方法和静态方法时，也可以不用 @classmethod 或 @staticmethod，而采用下面的方式进行绑定（参考文献4 - P1007）</div><div>...     info = classmethod(c_info)</div><div>...     say = staticmethod(s_say)</div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><font color="#A8A8A8"># 类的实例化</font></div><div><font color="#A8A8A8">&gt;&gt;&gt; cl = CLanguage(&quot;C语言中文网&quot;, &quot;http://c.biancheng.net&quot;)</font></div><div><font color="#A8A8A8">C语言中文网 网址为： http://c.biancheng.net</font></div><div><font color="#A8A8A8">&gt;&gt;&gt;</font></div><div><font color="#A8A8A8">&gt;&gt;&gt; cl.i_count(100)                                                                              # 通过实例名调用实例方法</font></div><div><font color="#A8A8A8">正在调用一个实例方法 count()，它的内存信息为： &lt;cls.CLanguage object at 0x000001EF362AE9B0&gt;</font></div><div><font color="#A8A8A8">&gt;&gt;&gt; CLanguage.count(cl,100)                                                                      # 通过类名调用实例方法</font></div><div><font color="#A8A8A8">正在调用一个实例方法 count()，它的内存信息为： &lt;cls.CLanguage object at 0x000001EF362AE9B0&gt;</font></div><div><font color="#A8A8A8">&gt;&gt;&gt;</font></div><div><font color="#A8A8A8">&gt;&gt;&gt; cl.c_info()</font></div><div><font color="#A8A8A8">正在调用一个类方法 info()，它的内存信息为： &lt;class 'cls.CLanguage'&gt;</font></div><div><font color="#A8A8A8">&gt;&gt;&gt; CLanguage.c_info()</font></div><div><font color="#A8A8A8">正在调用一个类方法 info()，它的内存信息为： &lt;class 'cls.CLanguage'&gt;</font></div><div><font color="#A8A8A8">&gt;&gt;&gt;</font></div><div><font color="#A8A8A8">&gt;&gt;&gt; cl.s_say()</font></div><div><font color="#A8A8A8">正在调用一个静态方法 say()</font></div><div><font color="#A8A8A8">&gt;&gt;&gt; CLanguage.s_say()</font></div><div><font color="#A8A8A8">正在调用一个静态方法 say()</font></div><div><font color="#A8A8A8">&gt;&gt;&gt;</font></div><div><font color="#A8A8A8">&gt;&gt;&gt; CLanguage.non_instance_method()</font></div><div><font color="#A8A8A8">正在调用一个无实例方法</font></div><div><font color="#A8A8A8">&gt;&gt;&gt; cl.non_instance_method()</font></div><div><font color="#A8A8A8">Traceback (most recent call last):</font></div><div><font color="#A8A8A8">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</font></div><div><font color="#A8A8A8">TypeError: non_instance_method() takes 0 positional arguments but 1 was given</font></div></div><ul><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">如果由单词构成类名，建议每个单词的首字母大写，其它字母小写。</span></span></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">无论是类属性还是类方法，对于类来说，它们都不是必需的，可以有也可以没有。</span></span></div></li></ul><div><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;;">       </span> <span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;;"><img src="7_类和对象 1_files/Image.png" type="image/png" data-filename="Image.png" width="641"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><ul><li><div><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;;">同属一个类的所有类变量和方法，要保持统一的缩进格式，通常统一缩进 4 个空格。</span></div></li></ul></ul><div><span style="font-size: 11pt;"><br/></span></div><ul><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Python 类中变量和方法所在的位置是任意的，即它们之间并没有固定的前后次序。但是，根据它们定义的方式的不同，又有所区别：</span></span></div></li><ul><li><div><span style="font-size: 16px; font-family: &quot;Helvetica Neue&quot;;"><a href="http://c.biancheng.net/view/2283.html" style="font-size: 16px; font-family: &quot;Helvetica Neue&quot;;">类中的变量可以细分为以下 3 种</a>：</span></div></li><ul><li><div><span style="font-size: 16px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;;">类变量</span><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;;">：</span> <font style="font-size: 12pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类体中、所有函数之外定义的变量。</span></font></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类变量的特点是，所有类的实例化对象都同时共享类变量，也就是说，类变量在所有实例化对象中是作为公用资源存在的。</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">注意，因为类变量为所有实例化对象共有，通过类名修改类变量的值，会影响所有的实例化对象。</span></div></li><li><div><font style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类变量在实例间的共享属性在涉及</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://docs.python.org/zh-cn/3.7/glossary.html#term-mutable" style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(99, 99, 187); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">mutable</a><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">对象例如列表和字典的时候可能导致令人惊讶的结果。</span></font> 这种时候应考虑<span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">使用实例变量。（</span><a href="https://docs.python.org/zh-cn/3.7/tutorial/classes.html#class-and-instance-variables" style="font-size: 10pt; font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">参考</a><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">）</span></span></div></li></ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">可以通过类名来调用类变量，也可以修改它的值。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">也可以使用实例对象来调用所属类中的类变量（</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(178, 34, 34); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">此方式不推荐使用</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">）。</span> 注意，<span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">通过实例对象是无法修改类变量的。通过类对象对类变量赋值，其本质将不再是修改类变量的值，而是在给该对象定义新的实例变量。</span></div></li></ul><li><div><span style="font-size: 16px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;;">实例变量</span><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;;">：</span> <font style="font-size: 12pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类体中，所有函数内部，以“self.变量名”的方式定义的变量。</span></font></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">其特点是只作用于调用方法的对象。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">实例变量只能通过对象名访问，无法通过类名访问。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">和类变量不同，修改某个实例变量的值，不会影响类的其它实例化对象，更不会影响同名的类变量。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类中，实例变量和类变量可以同名，但这种情况下使用实例将无法调用类变量，它会首选实例变量，这也是不推荐“类变量使用实例名调用”的原因。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Python 支持动态地为实例添加实例变量。</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">（下面</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; text-decoration: underline;">类的实例化</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">这一小节会介绍）</span></div></li></ul><li><div><span style="font-size: 16px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;;">局部变量</span><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;;">：</span> <font style="font-size: 12pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类体中，所有函数内部，以“变量名=变量值”的方式定义的变量。</span></font></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">通常情况下，定义局部变量是为了所在类方法功能的实现。需要注意的一点是，局部变量只能用于所在方法中，方法执行完成后，局部变量也会被销毁。</span></div></li></ul></ul><li><div><span style="font-size: 16px; font-family: &quot;Helvetica Neue&quot;;"><a href="http://c.biancheng.net/view/4552.html" style="font-size: 16px; font-family: &quot;Helvetica Neue&quot;;">类中的方法也可以细分为以下 3 种</a>：</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（</span><a href="https://book.douban.com/subject/30364619/" style="font-size: 10pt; color: rgb(0, 0, 255); font-family: &quot;Lucida Grande&quot;;">参考文献4</a> <span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">- P1007</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">）</span></div></li><ul><li><div><span style="font-size: 16px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;;">实例方法</span><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;;">：</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">传入一个 self 实例对象作为第一个参数的实参。（默认方式）</span></span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">通常情况下，在类中定义的方法默认都是实例方法。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">实例方法最大的特点就是，它最少也要包含一个 self 参数作为第一个参数，用于绑定调用此方法的实例对象（Python 会自动完成绑定）。</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">实例方法通常会用实例对象直接调用。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">支持使用类名调用实例方法，但此方式需要手动给 self 参数传值，参数值为进行调用的实例名。</span></div></li></ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">可以为某个实例动态地添加属于该实例的方法（下面</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; text-decoration: underline;">类的实例化</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">这一小节会介绍）</span></div></li></ul><li><div><span style="font-size: 16px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;;">类方法</span><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;;">：</span><font style="font-size: 12pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">传入一个 cls类对象作为第一个参数的实参。（</span><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif;">通过 @classmethod 修饰符进行修饰，并在元类中是默认的）</span></font></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">和实例方法相似，它最少也要包含一个参数，通常将其命名为 cls，Python 会自动将类本身（注意不是实例）绑定给 cls 参数。故</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">无需显式为 cls 参数传参。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">和 self 一样，cls 参数的命名也不是规定的（可以随意命名），只是 Python 程序员约定俗称的习惯而已。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类方法推荐使用类名直接调用，当然也可以使用实例对象来调用（</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(178, 34, 34); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">不推荐</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">）。</span></div></li></ul><li><div><span style="font-size: 16px; font-family: &quot;Helvetica Neue&quot;;"><span style="font-size: 16px; font-family: &quot;Helvetica Neue&quot;; color: rgb(173, 0, 0);">静态方法</span>：</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">不传入额外对象（通过 @staticmethod 修饰符进行修饰）</span></span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">静态方法没有类似 self、cls 这样的特殊参数，因此 Python 解释器不会对它包含的参数做任何类或对象的绑定。也因此，静态方法中无法调用任何类中任何变量和方法。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">既可以使用类进行调用，也可以使用实例进行调用。</span></div></li></ul></ul></ul></ul></ul></div><ul><ul><ul><ul><li><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(168, 168, 168);">无实例方法 ：不传入额外对象，只能通过类调用。</span></span></div></li></ul></ul></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><ul><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">在实际编程中，几乎不会用到类方法和静态方法，因为我们完全可以使用函数代替它们实现想要的功能，但在一些特殊的场景中（例如工厂模式中），使用类方法和静态方法也是很不错的选择。</span></div></li></ul></ul><li><div><span style="font-size: 16px;">Python 类对象支持 2 种操作：</span></div></li><ul><li><div><span style="font-size: 16px;">属性引用</span><span style="font-size: 10pt;">（</span> <span style="background-color: rgb(255, 255, 255); border-radius: 3px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; hyphens: none; font-size: 10pt; color: rgb(34, 34, 34); font-family: monospace, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">__doc__</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">也是类的一个有效的属性，将返回所属类的文档字符串</span><span style="font-size: 10pt;">）</span></div></li><li><div><span style="font-size: 16px;">实例化</span></div></li></ul><li><div><span style="font-size: 12pt;">Python 类的 3 大特性：</span></div></li><ul><li><div><span style="font-size: 16px;"><span style="font-size: 16px; color: rgb(173, 0, 0);">封装</span>：</span><span style="font-size: 12pt;">也就是把客观事物封装成抽象的类，并且类可以把自己的数据和方法只让可信的类或者对象操作，对不可信的进行信息隐藏。</span><span style="font-size: 16px;"> <span style="font-size: 16px; color: rgb(168, 168, 168);">（实现代码重用）</span></span></div></li><li><div><span style="font-size: 16px;"><span style="font-size: 16px; color: rgb(173, 0, 0);">继承</span>：</span><span style="font-size: 12pt;">（依赖于封装）它可以使用现有类的所有功能，并在无需重新编写原来的类的情况下对这些功能进行扩展。</span><span style="font-size: 16px;"><span style="font-size: 16px; color: rgb(168, 168, 168);">（实现代码重用和功能扩展）</span></span></div></li><li><div><span style="font-size: 16px;"><span style="font-size: 16px; color: rgb(173, 0, 0);">多态</span>：</span><span style="font-size: 12pt;">多态依赖继承，</span><span style="font-size: 12pt;">从一个父类派生出多个子类，这些子类都拥有父类的方法和属性，同时又可以自定义不同的方法和属性（如果对父类中某个方法不满意，可以在子类中重写父类的方法），这种行为称之为多态</span><span style="font-size: 12pt;">。<span style="font-size: 12pt; color: rgb(168, 168, 168);">（实现接口重用）</span></span></div></li></ul></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><ul><li><div><span style="font-size: 12pt;"><a href="http://c.biancheng.net/view/4533.html" style="font-size: 12pt; font-weight: bold;">__init__() 类构造方法</a></span></div></li><ul><li><div><span style="font-size: 16px;">在创建类时，我们可以手动添加一个 __init__() 方法，该方法是一个特殊的实例方法，称为</span> <span style="font-size: 16px; color: rgb(50, 135, 18);">构造函数</span><span style="font-size: 16px;"> 或 </span><span style="font-size: 16px; color: rgb(50, 135, 18);">构造方法</span><span style="font-size: 16px;">。该方法用于创建实例对象时使用，</span><span style="font-size: 12pt;">每当创建一个类的实例对象时，Python 解释器都会自动调用它。</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">手动添加构造方法的语法格式如下：</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt;">def __init__(self, ...)</span></div><div><span style="font-size: 12pt;">    代码块</span></div></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">注意，此方法的方法名中，开头和结尾各有 2 个下划线，且中间不能有空格。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">__init__() 方法可以包含多个参数，但必须包含一个名为 self 的参数，且必须作为第一个参数。</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">如果构造函数有多个参数，除了 self 参数外，其它参数需要手动传参。</span></div></li><li><div><span style="font-size: 11pt;"><br/></span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">注意，即便不手动为类添加任何构造方法，Python 也会自动为类添加一个仅包含 self 参数的构造方法，称为默认构造方法。（关于 self，后续会进一步详细介绍）</span></div></li></ul></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt;">&gt;&gt;&gt; class CLanguage:</font></div><div><font style="font-size: 11pt;">...     </font><font style="font-size: 10pt;">'''这是一个为了学习Python类而定义的类'''</font></div><div><font style="font-size: 11pt;">...     def __init__(self, name, site):</font></div><div><font style="font-size: 11pt;">...             print(name, &quot;的网址为：&quot;, site)</font></div><div><font style="font-size: 11pt;">...</font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"># 创建 cSite 对象，并传递参数给构造函数</font></div><div><font style="font-size: 11pt;">&gt;&gt;&gt; cSite = CLanguage(&quot;C语言中文网&quot;, &quot;http://c.biancheng.net&quot;)</font></div><div><font style="font-size: 11pt;">C语言中文网 的网址为： http://c.biancheng.net</font></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div></div><div><font style="font-size: 12pt;"><br/></font></div><ul><li><div><span style="font-size: 16px;"><a href="http://c.biancheng.net/view/2265.html" style="font-size: 16px; font-weight: bold;">类的实例化</a><span style="font-size: 16px; font-weight: bold;">（</span></span><a href="https://docs.python.org/zh-cn/3.7/tutorial/classes.html#instance-objects" style="font-size: 16px;">实例对象</a><span style="font-size: 16px;"><span style="font-size: 16px; font-weight: bold;">）：</span></span><span style="font-size: 16px;">通过类（对象）创建实例（对象）的过程，叫做</span><span style="font-size: 16px; color: rgb(173, 0, 0);">类的实例化</span><span style="font-size: 16px;">。</span> <span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif;">其语法格式如下：</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 14.6667px;">类名(参数列表)</span></div><div><span style="font-size: 14.6667px;"><br/></span></div><div><span style="font-size: 14.6667px;">实例名 = 类名(参数列表)</span></div></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">定义类时，如果没有手动添加 __init__() 构造方法，又或者添加的 __init__() 中仅有一个 self 参数，则创建类对象时的参数可以省略不写。</span></div></li></ul><li><div><span style="font-size: 12pt;">实例的操作</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">访问或修改自身的实例变量，甚至可以添加新的实例变量或者删除已有的实例变量；</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">调用自身的实例方法，包括调用现有的方法，以及给实例动态添加方法。</span></div></li></ul></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div># 访问实例变量</div><div><font face="Monaco" style="font-size: 11pt;">实例名<b><font>.</font></b>变量名</font></div><div><font face="Monaco"><br/></font></div><div><font face="Monaco"><br/></font></div><div># 调用实例方法</div><div><font face="Monaco" style="font-size: 11pt;">实例名<b><font>.</font></b>方法名(参数列表)                                <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"> </span></font><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 绑定方法</span></div><div><font face="Monaco" style="font-size: 11pt;">类名<b><font>.</font></b>方法名(实例名, 方法的参数列表)              </font><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 未绑定方法</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&gt;&gt;&gt; class CLanguage:</div><div>...     # 下面定义了2个类变量</div><div>...     name = &quot;C语言中文网&quot;</div><div>...     site = &quot;http://c.biancheng.net&quot;</div><div>...</div><div>...     def __init__(self, name, site):</div><div>...             # 下面定义2个实例变量</div><div>...             self.name = name</div><div>...             self.site = site</div><div>...             print(name, &quot;网址为：&quot;, site)</div><div>...</div><div>...     # 下面定义一个say实例方法</div><div>...     def say(self, content):</div><div>...             print(content)</div><div>...</div><div>&gt;&gt;&gt;</div><div><font color="#A8A8A8">&gt;&gt;&gt; c_language = CLanguage()</font></div><div><font color="#A8A8A8">Traceback (most recent call last):</font></div><div><font color="#A8A8A8">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</font></div><div><font color="#A8A8A8">TypeError: __init__() missing 2 required positional arguments: 'name' and 'site'</font></div><div><br/></div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font style="font-size: 11pt;"># 类 CLanguage 实例化 / 将该CLanguage实例对象赋给c_language变量 / 创建一个实例 c_language</font></span></div><div>&gt;&gt;&gt; c_language = CLanguage(&quot;Python教程&quot;, &quot;http://c.biancheng.net/python&quot;)</div><div>Python教程 网址为： http://c.biancheng.net/python</div><div><br/></div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font style="font-size: 11pt;"># 给实例 c_language 动态添加、删除实例变量</font></span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">c_language.money = 159.9</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">del c_language.money</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font style="font-size: 11pt;"><span style="color: rgb(51, 51, 51); font-family: Monaco;"># </span>给实例动态添加方法</font></span></div><div><font style="font-size: 11pt;"><span style="color: rgb(51, 51, 51); font-family: Monaco;"># </span><font style="color: rgb(173, 0, 0);">需要注意的一点是，为 clanguage 对象动态增加的方法，<b>第一个参数总是要预留出来给调用者绑定</b>，并且 Python 不会自动将调用者自动绑定到第一个参数（即使将第一个参</font></font></div><div><font style="font-size: 11pt;"># </font><font color="#AD0000" style="font-size: 11pt;">数命名为 self 也没用），</font><font><font color="#AD0000"><font style="font-size: 11pt;">因</font><span style="font-size: 11pt;">此<b>（每次调用）需要手动将调用者绑定为第一个参数</b>（给 self 传参）。</span></font></font></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div># 先定义一个函数 info()</div><div>&gt;&gt;&gt; def info(self):               # 第一个函数总是要预留给调用者来绑定</div><div>...     print(&quot;---info函数---&quot;, <font color="#A600C4">self</font>)</div><div><br/></div><div># 使用函数名 info 对实例 C_language 的 info方法赋值（动态绑定方法）</div><div>&gt;&gt;&gt;c_language.info = info         # 等价于（如果上面没有用 def 定义 info 的话）：c_language.info = lambda self:print(&quot;---info函数---&quot;, self)</div><div><br/></div><div>&gt;&gt;&gt;c_language.info(c_language)    # Python不会自动将调用者绑定到第一个参数，因此程序需要手动将调用者绑定为第一个参数（给 self 传参）</div><div>---info函数--- <font color="#A600C4">&lt;__main__.CLanguage object at 0x00000213BD523D30&gt;</font></div><div><br/></div><div>&gt;&gt;&gt; c_language.info</div><div>&lt;function info at 0x00000213BD68FD08&gt;</div><div><br/></div><div>&gt;&gt;&gt; c_language.info()</div><div><font color="#A8A8A8">Traceback (most recent call last):</font></div><div><font color="#A8A8A8">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</font></div><div><font color="#A8A8A8">TypeError: info() missing 1 required positional argument: 'self'</font></div><div>&gt;&gt;&gt;</div><div><br/></div><div># 通过借助 types 模块下的 MethodType 可以实现给实例动态添加方法时，不用手动给 self 传参</div><div>&gt;&gt;&gt; def info(self, content):</div><div>...     print(&quot;C语言中文网的地址为：%s&quot; % content)</div><div>...</div><div>&gt;&gt;&gt; from types import MethodType</div><div><br/></div><div>&gt;&gt;&gt; c_language.info = MethodType(info, c_language)        <font color="#AD0000"># 使用 MethodType 包装 info() 函数时，已经将self 参数绑定为 clanguage，后续再使用 info() 函数时，不用再给 self 参数绑定值。</font></div><div><br/></div><div>&gt;&gt;&gt; c_language.info(&quot;http://c.biancheng.net&quot;)</div><div>C语言中文网的地址为：http://c.biancheng.net</div><div>&gt;&gt;&gt;</div><div>&gt;&gt;&gt; c_language.info(content = &quot;http://c.biancheng.net&quot;)</div><div>C语言中文网的地址为：http://c.biancheng.net</div></div><div><font style="font-size: 12pt;"><br/></font></div><ul><li><div><a href="https://docs.python.org/zh-cn/3.7/tutorial/classes.html#method-objects" style="font-size: 16px; font-weight: bold;">方法对象</a>：<span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">方法的工作方式与简单函数完全一致，只是有一个重要的差异：方法的第一位参数总是接收方法调用的隐含主体，也就是当前的实例对象。</span><span style="font-size: 16px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;;">换句话说，Python 会自动把实例方法的调用映射为以当前实例作为第一位参数的类方法调用 。</span><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">在一个类的方法中，按惯例第一位参数通常称为 self（从技术上来讲，只有其位置重要，名称不重要）。在 Python 中定义类方法时，self 一定要在程序代码中显式地写出，即：</span><span style="font-size: 16px; color: rgb(173, 0, 0); font-family: &quot;Lucida Grande&quot;;">方法一定要通过 self 来访问或修改由当前方法调用或正在处理的属性</span><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">。</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（这种让 self 明确化的语言本质是被有意设计的：这个名称存在能让你明确脚本中使用的是实例的属性名称，而不是局部作用域或全局作用域中的名称）</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">。</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（</span><a href="https://book.douban.com/subject/30364619/" style="font-size: 10pt; color: rgb(0, 0, 255); font-family: &quot;Lucida Grande&quot;;">参考文献4</a> <span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">- P846</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">）</span></div></li><ul><li><div><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">【锐平】严格来讲，这里的方法是指实例方法（经实例调用），不是类方法（经类调用），因为类中定义的函数默认都是实例方法。</span></div></li></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><ul><ul><li><div><span style="font-size: 12pt;">Python 会自动将“通过实例调用方法”映射为“通过类调用方法（需要传入 self 的实参）”</span></div></li><li><div><span style="font-size: 12pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（需要）用类的实例对象访问类成员的方式称为</span><span style="font-size: 12pt; color: rgb(50, 135, 18); font-family: &quot;Lucida Grande&quot;;">绑定方法</span><span style="font-size: 12pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">，而用类名（就可以直接）调用类成员的方式称为</span><span style="font-size: 12pt; color: rgb(50, 135, 18); font-family: &quot;Lucida Grande&quot;;">非绑定方法</span><span style="font-size: 12pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">。</span><font style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（</span><a href="http://c.biancheng.net/view/2267.html" style="font-size: 10pt; color: rgb(0, 0, 255); font-family: &quot;Lucida Grande&quot;;">来源</a><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">）</span></font></div></li><li><div><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">请看一看</span><a href="https://book.douban.com/subject/30364619/" style="font-size: 10pt; color: rgb(0, 0, 255); font-family: &quot;Lucida Grande&quot;;">参考文献4</a> <span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">- P929 方法是对象：绑定或未绑定</span></div></li><li><div><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">在 Python 3.x 中，未绑定方法是（普通）函数：Python 3.x 这门语言已经删除了未绑定方法的概念，未绑定方法在 3.x 中被当作普通函数来对待。</span></div></li><ul><li><div><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">在 Python 3.x 中，只要一个方法不需要实例，那么通过类名来调用就不会有问题，而通过实例来调用就会出错。</span></div></li><li><div><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">也就是说，只有经实例调用，Python 3.x 才会向方法传递一个实例。而经类调用的方法只有在需要一个实例时，才必须手动传递实例。</span></div></li><li><div><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（</span><a href="https://book.douban.com/subject/30364619/" style="font-size: 10pt; color: rgb(0, 0, 255); font-family: &quot;Lucida Grande&quot;;">参考文献4</a> <span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">- P931</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">）</span></div></li></ul></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><span style="font-size: 12pt;">self 详解</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">实例方法中，要求将 self 参数作为方法的第一个参数。</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">事实上，Python 只是规定，无论是构造方法还是实例方法，最少要包含一个参数，并没有规定该参数的具体名称。之所以将其命名为 self，只是程序员之间约定俗成的一种习惯，遵守这个约定，可以使我们编写的代码具有更好的可读性（大家一看到 self，就知道它的作用）。</span></div></li></ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">同一个类可以产生多个实例对象，当某个实例调用类方法时，该实例会把自身的引用作为第一个参数自动传给该方法，换句话说，Python 会自动绑定类方法的第一个参数指向调用该方法的实例。如此，Python解释器就能知道到底要操作哪个实例对象的方法了。</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">因此，程序在调用实例方法和构造方法时，不需要手动为第一个参数传值。</span></div></li></ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">值得一提的是，实例方法除了通过实例条用和通过类调用，还有一种函数调用的方式：</span></div></li></ul></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&gt;&gt;&gt; class Person:</div><div>...     def who(self):</div><div>...             print(self)</div><div>...</div><div>&gt;&gt;&gt; zhangsan = Person()</div><div>&gt;&gt;&gt; # 通过实例名调用</div><div>&gt;&gt;&gt; zhangsan.who()</div><div>&lt;__main__.Person object at 0x000001EF362D1320&gt;</div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div># 通过类名调用</div><div>&gt;&gt;&gt; lisi = Person()</div><div>&gt;&gt;&gt; Person.who(lisi)</div><div>&lt;__main__.Person object at 0x000001EF362D1358&gt;</div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div># 函数调用方式</div><div>&gt;&gt;&gt; who = zhangsan.who</div><div>&gt;&gt;&gt; who()</div><div>&lt;__main__.Person object at 0x000001EF362D1320&gt;</div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div></div><div><span style="font-size: 12pt;">【3</span> <span style="font-size: 12pt;"><a href="http://c.biancheng.net/view/vip_6067.html" style="font-size: 12pt; font-weight: bold;">浅谈 Python 类命名空间</a></span><span style="font-size: 12pt;">】</span></div><ul><li><div><span style="font-size: 12pt;">Python 类体中的代码位于独立的命名空间中，这个独立的命名空间称为</span><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0);">类命名空间</span></span><span style="font-size: 12pt;">。</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">和类命名空间相对的是全局命名空间，即整个 Python 程序默认都位于全局命名空间中。而类体则独立位于类命名空间中。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类是由多个类变量和类方法构成，它们其实就是定义在类空间中的变量和函数。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">当使用类对象调用类方法时，在传参方面是和外界的函数有区别的，因为 Python 会自动把方法的第一个参数绑定为方法的调用者，而位于全局空间中的函数，则必须显式为第一个参数传递参数</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></li></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Python 还允许直接在类命名空间中编写可执行程序（例如输出语句、分支语句等）：</span></div></li></ul></ul><div><span style="font-size: 12pt;">                 </span><span style="font-size: 12pt;"><img src="7_类和对象 1_files/Image [1].png" type="image/png" data-filename="Image.png" width="344"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">【4 </span><span style="font-size: 12pt; font-weight: bold;">Python 描述符</span><span style="font-size: 12pt;">】</span></div><ul><li><div><span style="font-size: 16px;"><a href="http://c.biancheng.net/view/5468.html" style="font-size: 16px; font-weight: bold;">描述符（descripter）</a></span></div></li><ul><li><div><span style="font-size: 12pt;">本质上看，</span><span style="font-size: 12pt;">描述符就是一个类，只不过它定义了对另一个类中属性的访问方式。换句话说，一个类可以将属性管理全权委托给描述符类。</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 249, 249); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">描述符是 Python 中复杂属性访问的基础，它在内部被用于实现 property、方法、类方法、静态方法和 super 类型。</span></div></li></ul><li><div><span style="font-size: 12pt;">描述符类基于以下 3 个特殊方法，这 3 个方法组成了描述符协议：</span></div></li></ul></ul><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 252px;"></col><col style="width: 398px;"></col><col style="width: 406px;"></col></colgroup><tbody><tr><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 252px; padding: 8px;"><div><span style="font-size: 16px;"><span style="font-size: 16px; color: rgb(255, 255, 255); font-weight: bold;">方法名称</span></span></div></td><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 398px; padding: 8px;"><div><span style="font-size: 16px;"><span style="font-size: 16px; color: rgb(255, 255, 255); font-weight: bold;">说明</span></span></div></td><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 406px; padding: 8px;"><div><span style="font-size: 16px;"><span style="font-size: 16px; color: rgb(255, 255, 255); font-weight: bold;">其它</span></span></div></td></tr><tr><td style="width: 252px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">__set__(self, obj, type=None)</span></div></td><td style="width: 398px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">在设置（定义 和 赋值）属性时将调用这一方法。</span></div></td><td rowspan="2" style="height: 56px; width: 406px; padding: 8px; border: 1px solid;"><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">实现了 setter 和 getter 方法的描述符类被称为</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 128, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">数据描述符</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">；反之，如果只实现了 getter 方法，则称为</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 128, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">非数据描述符</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></td></tr><tr><td style="width: 252px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">__get__(self, obj, value)</span></div></td><td style="width: 398px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">在读取（访问）属性时将调用这一方法。</span></div></td></tr><tr><td style="width: 252px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">__delete__(self, obj)</span></div></td><td style="width: 398px; padding: 8px; border: 1px solid;"><div><span style="font-size: 12pt;">对使用 del 删除属性时将调用这一方法。</span></div></td><td style="width: 406px; padding: 8px; border: 1px solid;"><div><br/></div></td></tr></tbody></table><div><br/></div></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">实际上，当某个类的属性设置了描述符时，每次查找该属性时，描述符协议中的方法都由这个类对象的特殊方法 __getattribute__() 调用</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(168, 168, 168); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">（注意不要和 __getattr__() 弄混）</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。也就是说，每次使用类对象.属性（ 或 getattr(类对象，属性值) ）的调用方式时，都会隐式地调用 __getattribute__()，它会按照下列顺序查找该属性：</span></div></li><ul><li><div>验证该属性是否为类实例对象的数据描述符；</div></li><li><div>如果不是，就查看该属性是否能在类实例对象的 __dict__ 中找到；</div></li><li><div>最后，查看该属性是否为类实例对象的非数据描述符。</div></li></ul></ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">为了表达清楚，下面举个例子：</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&gt;&gt;&gt; <font color="#AD0000" style="font-size: 12pt;">class Descripter</font>:</div><div>...     def __init__(self, initval = None, name = 'var'):</div><div>...             self.val = initval</div><div>...             self.name = name</div><div>...</div><div>...     def __get__(self, obj, objtype):</div><div>...             print(&quot;Retrieving&quot;, self.name)</div><div>...             <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font style="font-size: 12pt;">return</font></span> self.val                           <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"># __get__() 方法需要有返回值</span></div><div>...</div><div>...     def __set__(self, obj, val):</div><div>...             print(&quot;updating&quot;, self.name)</div><div>...             self.val = val</div><div>...</div><div>&gt;&gt;&gt; class MyClass:</div><div>...     x = <font color="#AD0000" style="font-size: 12pt;">Descripter(10,'var &quot;x&quot;')</font></div><div>...     y = 5</div><div>...</div><div><br/></div><div>&gt;&gt;&gt; m = MyClass()</div><div>&gt;&gt;&gt; m.x</div><div>Retrieving var &quot;x&quot;</div><div>10</div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div>&gt;&gt;&gt; m.x = 20</div><div>updating var &quot;x&quot;</div><div><br/></div><div>&gt;&gt;&gt; m.x</div><div>Retrieving var &quot;x&quot;</div><div>20</div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div>&gt;&gt;&gt; m.y</div><div>5</div></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">从这个例子可以看到，如果一个类的某个属性有数据描述符，那么每次访问这个属性时，都会调用描述符的 __get__() 方法，并返回它的值；同样，每次在对该属性赋值时，也会调用 __set__() 方法。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">虽然上面例子中没有使用 __del__() 方法，但也很容易理解，当每次使用 del 类对象.属性（或者 delattr(类对象，属性)）语句时，都会调用该方法。</span></div></li></ul></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><span style="font-size: 12pt;">下面的来自</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（</span><a href="https://book.douban.com/subject/30364619/" style="font-size: 10pt; color: rgb(0, 0, 255); font-family: &quot;Lucida Grande&quot;;">参考文献4</a> <span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">- P931</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">）</span><span style="font-size: 12pt;"> </span></div></li><li><div><span style="font-size: 12pt;">描述符是特殊的一个独立的类的称呼，并且它就像方法函数一样被赋值给其它类的属性。与任何其它的类属性一样，它们会被子类和实例继承。</span></div></li><ul><li><div><span style="font-size: 12pt;">描述符类基于3个特殊方法，这三个方法组成了</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">描述符协议</span><span style="font-size: 12pt;">。</span></div></li></ul><li><div><span style="font-size: 16px;">从功能上讲，描述符协议允许我们把另一个类属性的的获取、设置和删除操作指向这个描述符类的对应方法。这使得我们能插入代码，在另一个类属性的获取和赋值时自动运行、拦截属性删除，以及在需要时为属性提供文档。</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">（</span><a href="https://book.douban.com/subject/30364619/" style="font-size: 10pt; color: rgb(0, 0, 255); font-family: &quot;Lucida Grande&quot;;">参考文献4</a> <span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">- P1195</span><span style="font-size: 10pt; color: rgb(34, 34, 34); font-family: &quot;Lucida Grande&quot;;">）</span></div></li></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><li><div><span style="font-size: 12pt;"><a href="http://c.biancheng.net/view/2286.html" style="font-size: 12pt; font-weight: bold;">property() 函数：定义变量操作属性</a></span></div></li><ul><li><div><span style="font-size: 12pt;">之前的介绍中，我们一直在用</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">“实例.变量</span><span style="font-size: 12pt;">”的方式访问类中定义的实例变量，其实这种做法是欠妥的，因为它破坏了类的封装原则。正常情况下，类包含的实例变量应该是隐藏的，只允许通过类提供的方法来间接实现对实例变量的访问和操作。</span></div></li><li><div><span style="font-size: 12pt;">因此，在不破坏类封装原则的基础上，为了能够有效操作类中的属性，类中应包含读（或写）类的实例变量的多个 getter（或 setter）方法，这样就可以通过</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">“实例</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">.方法</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">(参数)”</span><span style="font-size: 12pt;">的方式操作实例变量</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">（请参看原文的程序例子）</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">可能有读者觉得，这种操作类属性的方式比较麻烦，更习惯使用“类对象.属性”这种方式。</span></div></li></ul><li><div><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;;">庆幸的是，Python 中提供了</span> <span style="font-size: 12pt; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;; font-weight: bold;">property() 函数</span><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;;">，</span><span style="font-size: 12pt; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;;">可以实现在不破坏类封装原则的前提下，让开发者依旧使用“实例.变量”的方式操作类中的实例变量</span><span style="font-size: 12pt; font-family: &quot;Helvetica Neue&quot;;">。</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">property() 函数的基本使用格式如下：</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 14.6667px;">实例变量名 = property( fget = None, fset = None, fdel = None, doc = None)</span></div></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">fget 参数用于指定获取该实例变量值的方法。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">fset 参数用于指定设置该</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">实例变量值</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">的方法。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">fdel 参数用于指定删除该实例变量值的方法。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">最后的 doc 是一个文档字符串，用于对此实例变量进行说明。</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">注意，在使用 property() 函数时，以上 4 个参数可以仅指定第 1 个、或者前 2 个、或者前 3 个，当前也可以全部指定。也就是说，property() 函数中参数的指定并不是完全随意的。</span></div></li></ul></ul><li><div><span style="font-size: 14.6667px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;;">下面是一个示例程序：</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>class CLanguage:</div><div>        # 构造函数</div><div>        def __init__(self, n):</div><div>            self.__name = n</div><div><br/></div><div><br/></div><div>        # 设置 name 数据属性值的方法</div><div>        def setname(self, n):</div><div>            self.__name = n</div><div><br/></div><div><br/></div><div>        # 访问 name 数据属性值的方法</div><div>        def getname(self):</div><div>            <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font style="font-size: 12pt;">return</font></span> self.__name          <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"># getname方法实现访问功能，<font color="#AD0000">需要有返回值</font>，因为返回的是内部私有的实例变量 self.__name，</span></div><div>                                          <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"># </span><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">所以 self.name == self.__name，它们是两个不同的变量名，但是指向了同一个对象（我们在初始化或者后来重新设置值时所赋予的值）</span></div><div><br/></div><div>        # 删除 name 数据属性值的方法</div><div>        def delname(self):</div><div>            self.__name = <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">None</span></div><div><br/></div><div><br/></div><div>        # 为 name 数据属性配置 property() 函数</div><div>        <font color="#AD0000" style="font-size: 12pt;">name = property(getname, setname, delname, '数据属性 name')</font></div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 调取说明文档的 2 种方式</span></div><div>&gt;&gt;&gt; CLanguage.name.__doc__</div><div>'数据属性 name'</div><div>&gt;&gt;&gt;</div><div>&gt;&gt;&gt; help(CLanguage.name)</div><div>Help on property:</div><div><br/></div><div>    数据属性 name</div><div><br/></div><div><br/></div><div>&gt;&gt;&gt; clang = CLanguage(&quot;C语言中文网&quot;)</div><div>&gt;&gt;&gt;</div><div>&gt;&gt;&gt; clang.__name                 # 因为 __name 是私有实例变量，所以只能在本类的实例内部使用，从外部正常的 “实例名.变量名” 的形式访问不了。</div><div><font color="#A8A8A8">Traceback (most recent call last):</font></div><div><font color="#A8A8A8">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</font></div><div><font color="#A8A8A8">AttributeError: 'CLanguage' object has no attribute '__name'</font></div><div><font color="#A8A8A8"><br/></font></div><div><font color="#A8A8A8">#可以通过 “实例名._类名__变量名”的形式访问(后面 “类的封装” 会介绍</font></div><div><font color="#A8A8A8">&gt;&gt;&gt; clang._CLanguage__name</font></div><div><font color="#A8A8A8">'C语言中文网'</font></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 9pt;color: rgb(51, 51, 51);font-family: Monaco;background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 调用 getname() 方法</span></div><div>&gt;&gt;&gt; clang.name</div><div>'C语言中文网'</div><div><br/></div><div><span style="font-size: 9pt;color: rgb(51, 51, 51);font-family: Monaco;background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 调用 setname() 方法</span></div><div>&gt;&gt;&gt; clang.name = &quot;Python 教程&quot;</div><div>&gt;&gt;&gt; clang.name</div><div>'Python 教程'</div><div><br/></div><div>&gt;&gt;&gt; dir(clang)                 # name 在该语句的返回结果中</div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 调用 delname() 方法</span></div><div>&gt;&gt;&gt; del clang.name</div><div>&gt;&gt;&gt; dir(clang)                 # name 还是在该语句的返回结果中</div><div>&gt;&gt;&gt; clang.name</div><div>&gt;&gt;&gt; print(clang.name)</div><div>None</div></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">注意，在此程序中，由于 getname() 方法中需要返回 name 变量，如果使用 self.name 的话，其本身又被调用 getname()，这将会先入无限死循环。为了避免这种情况的出现，程序中的 name 变量</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">必须设置为</span><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">私有变量</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">，即使用 __name（前面有 2 个下划线）。</span></div></li><div><span style="font-size: 12pt;"><img src="7_类和对象 1_files/Image [2].png" type="image/png" data-filename="Image.png" width="634"/></span></div></ul></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><li><div><span style="font-size: 12pt;"><a href="http://c.biancheng.net/view/vip_6068.html" style="font-size: 12pt; font-weight: bold;">@property 装饰器、setter 装饰器、deleter 装饰器</a></span></div></li><ul><li><div><span style="font-size: 12pt;">通过</span> <span style="font-size: 12pt; color: rgb(173, 0, 0);">@property 装饰器</span><span style="font-size: 12pt;">，可以直接通过方法名来访问方法，不需要在方法名后添加一对“（）”小括号。</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">@property 的语法格式如下：</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt;">@property</font></div><div><font style="font-size: 11pt;">def 方法名(self):</font></div><div><font style="font-size: 11pt;">    代码块</font></div></div><ul><ul><ul><li><div><span style="font-size: 10pt;">这样既维护了类的封装特性，又让开发者可以使用“实例.变量”的方式操作操作类中的实例变量。</span></div></li><li><div><span style="font-size: 16px;">经过 @property 装饰后的实例方法，其实就变成了实例变量，并且该装饰器</span><span style="font-size: 16px; color: rgb(173, 0, 0);">只实现了对实例变量的</span><span style="font-size: 16px; color: rgb(173, 0, 0); font-weight: bold;">访问</span><span style="font-size: 16px; color: rgb(173, 0, 0);">功能</span><span style="font-size: 16px;">。</span></div></li></ul></ul><div><br/></div></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>class Rectangle:</div><div>    def __init__(self, area):</div><div>        self.__area = area</div><div><br/></div><div>    <font color="#AD0000" style="font-size: 12pt;">@property</font></div><div>    def area(self):</div><div>        return self.__area</div><div><br/></div><div>&gt;&gt;&gt; rect = Rectangle(30)</div><div>&gt;&gt;&gt; rect.area</div><div>30</div><div>&gt;&gt;&gt; rect.area()                            <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"># </span><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">经过 @property 装饰后的实例方法，其实就变成了实例变量，企图用“方法名添加 ()”的方式来访问是行不通的。</span></div><div><font color="#A8A8A8">Traceback (most recent call last):</font></div><div><font color="#A8A8A8">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</font></div><div><font color="#A8A8A8">TypeError: 'int' object is not callable</font></div><div>&gt;&gt;&gt;</div><div>&gt;&gt;&gt; rect.area = 90                        <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"># 只经过 @property 修饰，只能访问，不能修改或删除。</span></div><div>Traceback (most recent call last):</div><div>  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</div><div>AttributeError: can't set attribute</div></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">上面程序中，</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">使用 ＠property 修饰了 area() 方法，这样就使得该方法变成了</span> <span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">area 变量的 getter 方法</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。需要注意的是，</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">如果类中只包含该方法，那么 area 属性将是一个只读属性</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></li></ul></ul></ul><div><span style="font-size: 11pt;"><br/></span></div><ul><ul><li><div><span style="font-size: 16px;">在 @property 的基础上，通过</span> <span style="font-size: 16px; color: rgb(173, 0, 0);">setter 装饰器</span><span style="font-size: 16px;">，可以实现对实例变量的</span><span style="font-size: 16px; color: rgb(173, 0, 0); font-weight: bold;">修改</span><span style="font-size: 16px;">。</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">它的语法格式如下：</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt;">@方法名.setter</font></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">def 方法名(self, value):</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    代码块</font></span></div></div><div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">例如，在 Rectangle 类中，给 area() 方法添加 setter 方法。</span></div></li></ul></ul></ul></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div># 从本例开始，改在 jupyter notebook 中进行程序实验，不再在 cmd 中进行了。</div><div><br/></div><div>class Rectangle:</div><div>    def __init__(self, area):</div><div>        self.__area = area</div><div><br/></div><div>    <font color="#AD0000">@property</font></div><div>    def area(self):</div><div>        return self.__area</div><div><br/></div><div>    <font color="#AD0000" style="font-size: 12pt;">@area.setter</font></div><div>    def area(self, value):</div><div>        self.__area = value</div><div><br/></div><div><br/></div><div>rect = Rectangle(45)</div><div>rect.area                  # 45</div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">rect.area = 90</span></div><div>rect.area                  # 90</div><div><br/></div><div>del rect.area</div><div><font color="#A8A8A8">---------------------------------------------------------------------------</font></div><div><font color="#A8A8A8">AttributeError                            Traceback (most recent call last)</font></div><div><font color="#A8A8A8">&lt;ipython-input-11-4282a03f0a2b&gt; in &lt;module&gt;----&gt; 1 del rect.area</font></div><div><font color="#A8A8A8"><br/></font></div><div><font color="#A8A8A8">AttributeError: can't delete attribute</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><ul><ul><li><div><span style="font-size: 16px;">在 @property 的基础上，通过 deleter</span><span style="font-size: 16px; color: rgb(173, 0, 0);"> 装饰器</span><span style="font-size: 16px;">，可以实现对实例变量的</span><span style="font-size: 16px; color: rgb(173, 0, 0); font-weight: bold;">删除</span><span style="font-size: 16px;">。</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">它的语法格式如下：</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt;">@方法名.deleter</font></div><div><font style="font-size: 11pt;">def 方法名(self):</font></div><div><font style="font-size: 11pt;">    代码块</font></div></div><ul><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">例如，在 Rectangle 类中，给 area() 方法添加 deleter 方法。</span></div></li></ul></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>class Rectangle:</div><div>    def __init__(self, area):</div><div>        self.__area = area</div><div><br/></div><div>    <font color="#AD0000">@property</font></div><div>    def area(self):</div><div>        return self.__area</div><div><br/></div><div>    <font color="#AD0000">@area.setter</font></div><div>    def area(self, value):</div><div>        self.__area = value</div><div>        </div><div>    <font color="#AD0000" style="font-size: 12pt;">@area.deleter</font></div><div>    def area(self):</div><div>        self.__area = None</div><div><br/></div><div><br/></div><div>rect = Rectangle(88)</div><div>rect.area               # 88</div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">del rect.area</span></div><div>print(rect.area)        # None</div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">【5</span> <a href="http://c.biancheng.net/view/2287.html" style="font-size: 12pt; font-weight: bold;">Python 类的封装</a><span style="font-size: 12pt;">】</span></div><ul><li><div><span style="font-size: 12pt;">前面在介绍 Python 类的定义时，最后提到 Python 类有 3 大特性：</span><span style="font-size: 16px;">封装、</span><span style="font-size: 16px;">继承 和 </span><span style="font-size: 16px;">多态。本节我们先介绍封装。</span></div></li></ul><div><span style="font-size: 12pt;"><br/></span></div><ul><li><div><span style="font-size: 16px;"><span style="font-size: 16px; color: rgb(173, 0, 0);">封装（Encapsulation）</span>：简单理解，</span><span style="font-size: 12pt;">即在设计类时，刻意地将一些属性和方法隐藏在类的内部，这样在使用此类时，将无法直接以“实例名.属性名”的形式调用这些类中的变量或方法，而只能用未隐藏的类中的方法间接操作这些隐藏的变量和方法。</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">那么，类为什么要进行封装，这样做有什么好处呢？</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">首先，<span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">封装机制保证了类内部</span></span><a href="http://c.biancheng.net/data_structure/" style="background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(0, 125, 187); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">数据结构</a><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">的完整性</span>，因为使用类的用户无法直接看到类中的数据结构，只能使用类允许公开的数据，很好地避免了外部对内部数据的影响，提高了程序的可维护性。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">其次，对一个类实现良好的封装，用户只能借助暴露出来的类方法来访问数据，我们只需要在这些暴露的方法中加入适当的控制逻辑，即</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">可轻松实现用户对类中属性或方法的不合理操作的禁止</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></li></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><li><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Python 封装机制</span></span></div></li><ul><li><div><span style="font-size: 12pt;">和其它面向对象的编程语言（如 C++、Java）不同，Python 类中的</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">变量</span><span style="font-size: 12pt;">和</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">函数</span><span style="font-size: 12pt;">，只有两种属性：</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">公有的</span><span style="font-size: 12pt;">（类似 public）和</span> <span style="font-size: 12pt; color: rgb(173, 0, 0);">私有的</span><span style="font-size: 12pt;">（类似 private）。</span></div></li><li><div><span style="font-size: 12pt;">Python 并没有提供 public、private 这些修饰符。为了实现类的封装，Python 采取了自己的方式。</span></div></li></ul></ul><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 424px;"></col><col style="width: 378px;"></col><col style="width: 242px;"></col></colgroup><tbody><tr><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 130px; padding: 8px;"><div><span style="font-size: 16px;"><span style="font-size: 16px; color: rgb(255, 255, 255); font-weight: bold;">属性</span></span></div></td><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 424px; padding: 8px;"><div><span style="font-size: 16px;"><span style="font-size: 16px; color: rgb(255, 255, 255); font-weight: bold;">说明</span></span></div></td><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 378px; padding: 8px;"><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 255, 255); font-weight: bold;">Python 中实现方式</span></span></td><td style="background-color: rgb(0, 129, 194); border: 1px solid rgb(0, 103, 155); width: 242px; padding: 8px;"><div><span style="font-size: 16px;"><span style="font-size: 16px; font-weight: bold;"> </span><span style="font-size: 16px; color: rgb(255, 255, 255); font-weight: bold;">其它</span></span></div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><span style="font-size: 16px;"><span style="font-size: 16px; font-weight: bold;">公有属性</span></span></div></td><td style="width: 424px; padding: 8px; border: 1px solid;"><div><span style="font-size: 10pt;">类中公有属性的的变量和函数，在类及其实例的内部、外部、以及子类及其实例中，都可以正常访问。</span></div></td><td style="width: 378px; padding: 8px; border: 1px solid;"><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">默认情况下，Python 类中的变量和方法都是公有，</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">它们的</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">名称前</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">都</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">没有</span></span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">下划线</span> <font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">_</span></font></span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></td><td rowspan="3" style="height: 92px; width: 242px; padding: 8px; border: 1px solid;"><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Python 类中还有</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">以双下划线开头和结尾</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">的类方法，例如类的构造函数__init__(self)，这些都是</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(166, 0, 196); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Python 内部定义的，用于 Python 内部调用</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。我们自己定义类属性或者类方法时，</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(166, 0, 196); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">不要使用这种格式</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。</span></div></td></tr><tr><td rowspan="2" style="height: 56px; width: 130px; padding: 8px; border: 1px solid;"><div><span style="font-size: 16px;"><span style="font-size: 16px; font-weight: bold;">私有属性</span></span></div></td><td rowspan="2" style="height: 56px; width: 424px; padding: 8px; border: 1px solid;"><div><span style="font-size: 10pt;">类中私有属性的的变量和函数，</span><span style="font-size: 10pt; color: rgb(173, 0, 0);">只能在本类及其实例的</span><span style="font-size: 10pt; color: rgb(173, 0, 0); font-weight: bold;">内部</span><span style="font-size: 10pt; color: rgb(173, 0, 0);">中使用</span><span style="font-size: 10pt;">，类及其实例的外部、子类及其实例中都无法使用。</span></div></td><td style="width: 378px; padding: 8px; border: 1px solid;"><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">名称以</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">双下划线</span> <span style="font-size: 14pt; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">__</span></span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">开头</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">的变量或函数，都是私有的。</span></div></td></tr><tr><td style="border: 1px solid; width: 378px; padding: 8px;"><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">此外，还可以定义以</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">单下划线</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">_</span></font></span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(173, 0, 0); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">开头</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">的变量或方法，有些地方叫做</span><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">保护属性</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">，</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">例如 _name、_display(self)，这种通常也被视为</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">为私有变量和私有方法，</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">虽然</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; color: rgb(166, 0, 196); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">它们也能通过实例正常访问</span></span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">，但这是一种约定俗称的用法，初学者一定要遵守。</span></div></td></tr></tbody></table><ul><ul><li><div><span style="font-size: 12pt;">一般情况下，私有属性（变量、方法）只用来做内部的事，起到安全的作用。私有属性不会被子类继承，也不能被（用正常或直接的方式）访问。但可以通过调用继承的父类的共有方法，间接地访问父类的私有属性。</span></div></li></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><ul><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">例如，如下程序示范了 Python 的封装机制（程序见原文）。</span></div></li><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">不仅如此，以 add 属性的 setadd() 方法为例，通过在该方法内部添加控制逻辑，即通过调用字符创的 startswith() 方法，控制用户输入的地址必须以“http://”开头，否则程序将会执行 raise 语句抛出 ValueError 异常。</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">那么，类似 __display() 这样的类方法，就没有办法调用了吗？并非如此，接下来介绍了 Python 封装实现原理之后，我们就能轻松搞定它。</span></div></li></ul></ul></ul></div><div><font style="font-size: 12pt;"><br/></font></div><ul><li><div><a href="http://c.biancheng.net/view/vip_7033.html" style="font-size: 12pt; font-weight: bold;">Python 封装实现原理</a></div></li><ul><li><div><span style="font-size: 12pt;">Python 封装特性的实现纯属“投机取巧”，之所以类对象无法直接调用以双下划线开头命名的类属性和类方法，是因为其底层实现时，Python 偷偷改变了它们的名称。</span></div></li><li><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0);">事实上，对于以双下划线开头命名的类中的变量或方法，Python 在底层实现时，在它们的名称都添加了 &quot;</span><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">_类名</span><span style="font-size: 12pt; color: rgb(173, 0, 0);">&quot; 作为完整的名称。通过使用在底层实现的名称，还是可以从外部进行访问的。</span></span></div></li><div><span style="font-size: 12pt;"><img src="7_类和对象 1_files/Image [3].png" type="image/png" data-filename="Image.png" width="703"/></span></div></ul></ul><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div></div><div><br/></div></span>
</div></body></html> 